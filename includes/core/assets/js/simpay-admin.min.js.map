{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:////Users/spencerfinnell/dev/wpsimplepay/wp-content/plugins/wp-simple-pay-pro/node_modules/@babel/runtime/helpers/arrayLikeToArray.js","webpack:////Users/spencerfinnell/dev/wpsimplepay/wp-content/plugins/wp-simple-pay-pro/node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","webpack:////Users/spencerfinnell/dev/wpsimplepay/wp-content/plugins/wp-simple-pay-pro/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","webpack:////Users/spencerfinnell/dev/wpsimplepay/wp-content/plugins/wp-simple-pay-pro/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","webpack:////Users/spencerfinnell/dev/wpsimplepay/wp-content/plugins/wp-simple-pay-pro/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","webpack:////Users/spencerfinnell/dev/wpsimplepay/wp-content/plugins/wp-simple-pay-pro/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","webpack:////Users/spencerfinnell/dev/wpsimplepay/wp-content/plugins/wp-simple-pay-pro/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","webpack:////Users/spencerfinnell/dev/wpsimplepay/wp-content/plugins/wp-simple-pay-pro/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","webpack:////Users/spencerfinnell/dev/wpsimplepay/wp-content/plugins/wp-simple-pay-pro/node_modules/@babel/runtime/helpers/iterableToArray.js","webpack:////Users/spencerfinnell/dev/wpsimplepay/wp-content/plugins/wp-simple-pay-pro/node_modules/@babel/runtime/helpers/nonIterableSpread.js","webpack:////Users/spencerfinnell/dev/wpsimplepay/wp-content/plugins/wp-simple-pay-pro/node_modules/@babel/runtime/helpers/toConsumableArray.js","webpack:////Users/spencerfinnell/dev/wpsimplepay/wp-content/plugins/wp-simple-pay-pro/node_modules/@babel/runtime/helpers/typeof.js","webpack:////Users/spencerfinnell/dev/wpsimplepay/wp-content/plugins/wp-simple-pay-pro/node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","webpack:////Users/spencerfinnell/dev/wpsimplepay/wp-content/plugins/wp-simple-pay-pro/node_modules/@wordpress/dom-ready/build-module/index.js","webpack:////Users/spencerfinnell/dev/wpsimplepay/wp-content/plugins/wp-simple-pay-pro/node_modules/@wordpress/hooks/build-module/createAddHook.js","webpack:////Users/spencerfinnell/dev/wpsimplepay/wp-content/plugins/wp-simple-pay-pro/node_modules/@wordpress/hooks/build-module/createCurrentHook.js","webpack:////Users/spencerfinnell/dev/wpsimplepay/wp-content/plugins/wp-simple-pay-pro/node_modules/@wordpress/hooks/build-module/createDidHook.js","webpack:////Users/spencerfinnell/dev/wpsimplepay/wp-content/plugins/wp-simple-pay-pro/node_modules/@wordpress/hooks/build-module/createDoingHook.js","webpack:////Users/spencerfinnell/dev/wpsimplepay/wp-content/plugins/wp-simple-pay-pro/node_modules/@wordpress/hooks/build-module/createHasHook.js","webpack:////Users/spencerfinnell/dev/wpsimplepay/wp-content/plugins/wp-simple-pay-pro/node_modules/@wordpress/hooks/build-module/createHooks.js","webpack:////Users/spencerfinnell/dev/wpsimplepay/wp-content/plugins/wp-simple-pay-pro/node_modules/@wordpress/hooks/build-module/createRemoveHook.js","webpack:////Users/spencerfinnell/dev/wpsimplepay/wp-content/plugins/wp-simple-pay-pro/node_modules/@wordpress/hooks/build-module/createRunHook.js","webpack:////Users/spencerfinnell/dev/wpsimplepay/wp-content/plugins/wp-simple-pay-pro/node_modules/@wordpress/hooks/build-module/index.js","webpack:////Users/spencerfinnell/dev/wpsimplepay/wp-content/plugins/wp-simple-pay-pro/node_modules/@wordpress/hooks/build-module/validateHookName.js","webpack:////Users/spencerfinnell/dev/wpsimplepay/wp-content/plugins/wp-simple-pay-pro/node_modules/@wordpress/hooks/build-module/validateNamespace.js","webpack:////Users/spencerfinnell/dev/wpsimplepay/wp-content/plugins/wp-simple-pay-pro/node_modules/form-serialize/index.js","webpack:///./js/admin/addons.js","webpack:///./js/admin/index.js","webpack:///./js/admin/payment-form/general.js","webpack:///./js/admin/payment-form/index.js","webpack:///./js/admin/payment-form/prices.js","webpack:///./js/admin/settings/recaptcha.js","webpack:///./js/admin/settings/stripe-connect.js","webpack:///./js/admin/settings/test-mode.js","webpack:///./js/admin/settings/toggles.js","webpack:///./js/admin/utils.js","webpack:///./js/packages/hooks/src/index.js","webpack:///external \"jQuery\""],"names":["s","iconActivate","iconDeactivate","iconInstall","iconSpinner","mediaFrame","simpayAdmin","nonce","ajaxUrl","i18n","addonActivated","addonActivate","addonActive","addonDeactivate","addonInactive","addonInstall","addonError","pluginError","setAddonState","plugin","state","pluginType","callback","actions","activate","install","deactivate","action","data","type","$","post","fail","xhr","console","log","responseText","addonToggle","e","preventDefault","$btn","target","cssClass","stateText","buttonText","errorText","successText","hasClass","window","open","attr","prop","addClass","html","$addon","closest","res","success","basename","msg","is_activated","find","append","removeClass","text","setTimeout","remove","domReady","document","querySelector","addOns","querySelectorAll","forEach","addOn","addEventListener","wpsp","hooks","spAdmin","body","spFormSettings","init","handleMetaboxTabClick","postboxes","handle_click","on","input","inputEl","isCustomFieldToggle","substring","parent","current","val","is","each","content","showIf","hide","includes","show","css","filter","trigger","addAction","toggleStripeConnectNotice","handleInternalLinkToTabClicks","handleRemoveImagePreviewClick","setupChosen","addMediaFields","stripeConnect","paymentModeSelector","length","paymentModes","mode","simpayMediaUploader","simpayMediaUploaderInputField","wp","media","frames","file_frame","title","spGeneral","mediaTitle","button","mediaButtonText","multiple","attachment","get","first","toJSON","inputField","image","id","url","chosenSelect","chosen","disable_search_threshold","tabLinks","panels","allTabLinkParents","parents","currentTabLinkParent","currentTabEl","hash","history","pushState","scrollTo","activeTab","location","activeTabLink","click","rows","el","tabToShowId","tabToShowLinkEl","ready","jQuery","onLeavePage","initialValues","confirmLeave","event","newFormValues","serialize","simpay_form_settings_tab","JSON","stringify","leavePageConfirm","onbeforeunload","off","removeEventListener","reCaptchaFeedback","feedbackNoticeEl","feedbackNoticeElDesc","simpayGoogleRecaptcha","siteKey","style","display","onError","color","innerHTML","disabled","onSuccess","enabled","grecaptcha","badge","execute","then","token","ajax","send","recaptcha_action","error","catch","requireFormTitle","formTitleInput","value","nextElementSibling","classList","siteTitle","add","formSettings","formValues","onChangeLabel","priceEl","labelDisplay","labelInput","strings","recurringIntervalDisplay","customAmountLabel","label","currencyInput","amountInput","amountTypeInput","customAmountInput","customAmountToggle","currencyPosition","recurringIntervals","currencySymbol","options","selectedIndex","dataset","symbol","checked","replace","recurringInterval","recurringIntervalCount","recurringIntervalDisplayNouns","recurringIntervalDisplayReplaced","onChangeCurrency","currenySymbolEls","_","currencySymbolEl","innerText","onToggleAmountType","toggle","toggles","amountType","recurringSettings","canRecurSetting","canRecurToggle","onToggleCanRecur","checkbox","onToggleCustomAmount","customAmountSettings","onChangeRecurring","recurringIntervalCountValue","parseInt","recurringIntervalValue","pluralizations","parse","intervals","i","onToggleLegacySettings","legacySettingEls","legacySettingEl","onToggleDefault","allDefaults","defaultEl","onRemove","ensureDefaultPrice","onAddPrice","buttonEl","formId","priceListEl","getElementById","_wpnonce","form_id","response","bindPriceOptions","message","alert","onAddPlan","planIdEl","plan_id","bindSortablePriceOptions","sortable","items","containment","handle","placeholder","cursor","delay","distance","tolerance","forcePlaceholderSize","opacity","helper","element","clone","currentName","Math","random","toString","end","pricesEls","currencyToggle","amountTypeToggles","amountTypeToggle","legacySettingsToggle","defaultToggle","removeToggle","bindAdvancedOptions","toggleAdvancedEl","advancedEl","addPrice","addButtonEl","addPlan","prices","invalid","newMode","initialMode","notice","statusText","statusLink","href","accountInfo","containerEl","account_id","accountId","actionsEl","disconnectLink","disconnectLinkEls","disconnectConfirm","disconnectCancel","dialog","resizable","height","width","modal","draggable","last","marginLeft","focus","buttons","class","radioEls","selectedRadioEl","currentMode","doAction","radio","SETTING_TOGGLES","simpayAdminSettingToggles","getSetting","settingObj","settingId","settingValue","settingRowEl","setting","currentValue","toggleSettings","currentRow","toToggleRowEls","map","currentSettingObj","copyToClipboard","clipboard","ClipboardJS","copiedText","copied","originalText","clearTimeout","successTimeout","contains","borderColor","clearSelection","clipboardAction","fakeElem","removeFake","a11y","speak","defaultHooks","createHooks","addFilter","applyFilters"],"mappings":";QAAA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;;;;;;AClFA;AACA;;AAEA,wCAAwC,SAAS;AACjD;AACA;;AAEA;AACA;;AAEA,iH;;;;;;;;;;;ACVA,uBAAuB,mBAAO,CAAC,+FAAuB;;AAEtD;AACA;AACA;;AAEA,kH;;;;;;;;;;;;ACNA;AAAA;AAAe;AACf;;AAEA,wCAAwC,SAAS;AACjD;AACA;;AAEA;AACA,C;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAqD;AACtC;AACf,iCAAiC,oEAAgB;AACjD,C;;;;;;;;;;;;ACHA;AAAA;AAAe;AACf;AACA,C;;;;;;;;;;;;ACFA;AAAA;AAAe;AACf;AACA,C;;;;;;;;;;;;ACFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAuD;AACJ;AACsB;AAClB;AACxC;AACf,SAAS,qEAAiB,SAAS,mEAAe,SAAS,8EAA0B,SAAS,qEAAiB;AAC/G,C;;;;;;;;;;;;ACNA;AAAA;AAAA;AAAqD;AACtC;AACf;AACA,oCAAoC,oEAAgB;AACpD;AACA;AACA;AACA,sFAAsF,oEAAgB;AACtG,C;;;;;;;;;;;ACRA;AACA;AACA;;AAEA,gH;;;;;;;;;;;ACJA;AACA;AACA;;AAEA,kH;;;;;;;;;;;ACJA,wBAAwB,mBAAO,CAAC,iGAAwB;;AAExD,sBAAsB,mBAAO,CAAC,6FAAsB;;AAEpD,iCAAiC,mBAAO,CAAC,mHAAiC;;AAE1E,wBAAwB,mBAAO,CAAC,iGAAwB;;AAExD;AACA;AACA;;AAEA,kH;;;;;;;;;;;ACZA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;;AAEA,uG;;;;;;;;;;;ACVA,uBAAuB,mBAAO,CAAC,+FAAuB;;AAEtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,2H;;;;;;;;;;;;ACXA;AAAA;AAAA;AACA,aAAa,WAAW;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,YAAY;AACZ;AACe;AACf;AACA;AACA;AACA;AACA,KAAK;;;AAGL;AACA;AACA,iC;;;;;;;;;;;;ACxCA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACuD;AACF;AACvB;AAC9B;AACA;AACA;AACA,YAAY,OAAO;AACnB;AACA,YAAY,SAAS;AACrB;;AAEA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,SAAS;AACtB,aAAa,QAAQ;AACrB;AACA;AACA;;AAEA,SAAS,oEAAgB;AACzB;AACA;;AAEA,SAAS,qEAAiB;AAC1B;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;;;AAGL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,+BAA+B,OAAO;AACtC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA,iBAAiB;AACjB;;;AAGA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,MAAM,kDAAQ;AACd;AACA;AACA;;AAEe,4EAAa,EAAC;AAC7B,yC;;;;;;;;;;;;AChGA;AAAA;AACA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB;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;AAC7B,yC;;;;;;;;;;;;AC3EA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACwC;;AAExC,mBAAmB,4DAAW;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAE2P;AAC3P,iC;;;;;;;;;;;;AC1BA;AAAA;AACA;AACA;AACA,YAAY,OAAO;AACnB;AACA;AACA;AACA,YAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEe,+EAAgB,EAAC;AAChC,4C;;;;;;;;;;;;AChCA;AAAA;AACA;AACA;AACA,YAAY,OAAO;AACnB;AACA;AACA,YAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEe,gFAAiB,EAAC;AACjC,6C;;;;;;;;;;;ACzBA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;;AAEA,oCAAoC;AACpC;;AAEA;;AAEA;AACA;;AAEA,kBAAkB,oBAAoB;AACtC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,0BAA0B,yBAAyB;AACnD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;;;;;;;;ACnQA;;AAEA;AACA;AACA;AACA;AAEA,IAAMA,CAAC,GAAG;AACTC,cAAY,EACX,uEAFQ;AAGTC,gBAAc,EAAE,oDAHP;AAITC,aAAW,EAAE,yDAJJ;AAKTC,aAAW,EAAE,0DALJ;AAMTC,YAAU,EAAE;AANH,CAAV;AASA,mBAAiCC,WAAjC;AAAA,IAAQC,KAAR,gBAAQA,KAAR;AAAA,IAAeC,OAAf,gBAAeA,OAAf;AAAA,IAAwBC,IAAxB,gBAAwBA,IAAxB;AAEA,IACCC,cADD,GASID,IATJ,CACCC,cADD;AAAA,IAECC,aAFD,GASIF,IATJ,CAECE,aAFD;AAAA,IAGCC,WAHD,GASIH,IATJ,CAGCG,WAHD;AAAA,IAICC,eAJD,GASIJ,IATJ,CAICI,eAJD;AAAA,IAKCC,aALD,GASIL,IATJ,CAKCK,aALD;AAAA,IAMCC,YAND,GASIN,IATJ,CAMCM,YAND;AAAA,IAOCC,UAPD,GASIP,IATJ,CAOCO,UAPD;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","file":"simpay-admin.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./js/admin/index.js\");\n","function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}\n\nmodule.exports = _arrayWithoutHoles, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableSpread, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayWithoutHoles = require(\"./arrayWithoutHoles.js\");\n\nvar iterableToArray = require(\"./iterableToArray.js\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread.js\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return (module.exports = _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports), _typeof(obj);\n}\n\nmodule.exports = _typeof, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","/**\n * @typedef {() => void} Callback\n *\n * TODO: Remove this typedef and inline `() => void` type.\n *\n * This typedef is used so that a descriptive type is provided in our\n * automatically generated documentation.\n *\n * An in-line type `() => void` would be preferable, but the generated\n * documentation is `null` in that case.\n *\n * @see https://github.com/WordPress/gutenberg/issues/18045\n */\n\n/**\n * Specify a function to execute when the DOM is fully loaded.\n *\n * @param {Callback} callback A function to execute after the DOM is ready.\n *\n * @example\n * ```js\n * import domReady from '@wordpress/dom-ready';\n *\n * domReady( function() {\n * \t//do something after DOM loads.\n * } );\n * ```\n *\n * @return {void}\n */\nexport default function domReady(callback) {\n  if (document.readyState === 'complete' || // DOMContentLoaded + Images/Styles/etc loaded, so we call directly.\n  document.readyState === 'interactive' // DOMContentLoaded fires at this point, so we call directly.\n  ) {\n      return void callback();\n    } // DOMContentLoaded has not fired yet, delay callback until then.\n\n\n  document.addEventListener('DOMContentLoaded', callback);\n}\n//# sourceMappingURL=index.js.map","/**\n * Internal dependencies\n */\nimport validateNamespace from './validateNamespace.js';\nimport validateHookName from './validateHookName.js';\nimport { doAction } from './';\n/**\n * Returns a function which, when invoked, will add a hook.\n *\n * @param  {Object}   hooks Stored hooks, keyed by hook name.\n *\n * @return {Function}       Function that adds a new hook.\n */\n\nfunction createAddHook(hooks) {\n  /**\n   * Adds the hook to the appropriate hooks container.\n   *\n   * @param {string}   hookName  Name of hook to add\n   * @param {string}   namespace The unique namespace identifying the callback in the form `vendor/plugin/function`.\n   * @param {Function} callback  Function to call when the hook is run\n   * @param {?number}  priority  Priority of this hook (default=10)\n   */\n  return function addHook(hookName, namespace, callback) {\n    var priority = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 10;\n\n    if (!validateHookName(hookName)) {\n      return;\n    }\n\n    if (!validateNamespace(namespace)) {\n      return;\n    }\n\n    if ('function' !== typeof callback) {\n      // eslint-disable-next-line no-console\n      console.error('The hook callback must be a function.');\n      return;\n    } // Validate numeric priority\n\n\n    if ('number' !== typeof priority) {\n      // eslint-disable-next-line no-console\n      console.error('If specified, the hook priority must be a number.');\n      return;\n    }\n\n    var handler = {\n      callback: callback,\n      priority: priority,\n      namespace: namespace\n    };\n\n    if (hooks[hookName]) {\n      // Find the correct insert index of the new hook.\n      var handlers = hooks[hookName].handlers;\n      var i;\n\n      for (i = handlers.length; i > 0; i--) {\n        if (priority >= handlers[i - 1].priority) {\n          break;\n        }\n      }\n\n      if (i === handlers.length) {\n        // If append, operate via direct assignment.\n        handlers[i] = handler;\n      } else {\n        // Otherwise, insert before index via splice.\n        handlers.splice(i, 0, handler);\n      } // We may also be currently executing this hook.  If the callback\n      // we're adding would come after the current callback, there's no\n      // problem; otherwise we need to increase the execution index of\n      // any other runs by 1 to account for the added element.\n\n\n      (hooks.__current || []).forEach(function (hookInfo) {\n        if (hookInfo.name === hookName && hookInfo.currentIndex >= i) {\n          hookInfo.currentIndex++;\n        }\n      });\n    } else {\n      // This is the first hook of its type.\n      hooks[hookName] = {\n        handlers: [handler],\n        runs: 0\n      };\n    }\n\n    if (hookName !== 'hookAdded') {\n      doAction('hookAdded', hookName, namespace, callback, priority);\n    }\n  };\n}\n\nexport default createAddHook;\n//# sourceMappingURL=createAddHook.js.map","/**\n * Returns a function which, when invoked, will return the name of the\n * currently running hook, or `null` if no hook of the given type is currently\n * running.\n *\n * @param  {Object}   hooks          Stored hooks, keyed by hook name.\n *\n * @return {Function}                Function that returns the current hook.\n */\nfunction createCurrentHook(hooks) {\n  /**\n   * Returns the name of the currently running hook, or `null` if no hook of\n   * the given type is currently running.\n   *\n   * @return {?string}             The name of the currently running hook, or\n   *                               `null` if no hook is currently running.\n   */\n  return function currentHook() {\n    if (!hooks.__current || !hooks.__current.length) {\n      return null;\n    }\n\n    return hooks.__current[hooks.__current.length - 1].name;\n  };\n}\n\nexport default createCurrentHook;\n//# sourceMappingURL=createCurrentHook.js.map","/**\n * Internal dependencies\n */\nimport validateHookName from './validateHookName.js';\n/**\n * Returns a function which, when invoked, will return the number of times a\n * hook has been called.\n *\n * @param  {Object}   hooks Stored hooks, keyed by hook name.\n *\n * @return {Function}       Function that returns a hook's call count.\n */\n\nfunction createDidHook(hooks) {\n  /**\n   * Returns the number of times an action has been fired.\n   *\n   * @param  {string} hookName The hook name to check.\n   *\n   * @return {number}          The number of times the hook has run.\n   */\n  return function didHook(hookName) {\n    if (!validateHookName(hookName)) {\n      return;\n    }\n\n    return hooks[hookName] && hooks[hookName].runs ? hooks[hookName].runs : 0;\n  };\n}\n\nexport default createDidHook;\n//# sourceMappingURL=createDidHook.js.map","/**\n * Returns a function which, when invoked, will return whether a hook is\n * currently being executed.\n *\n * @param  {Object}   hooks Stored hooks, keyed by hook name.\n *\n * @return {Function}       Function that returns whether a hook is currently\n *                          being executed.\n */\nfunction createDoingHook(hooks) {\n  /**\n   * Returns whether a hook is currently being executed.\n   *\n   * @param  {?string} hookName The name of the hook to check for.  If\n   *                            omitted, will check for any hook being executed.\n   *\n   * @return {boolean}             Whether the hook is being executed.\n   */\n  return function doingHook(hookName) {\n    // If the hookName was not passed, check for any current hook.\n    if ('undefined' === typeof hookName) {\n      return 'undefined' !== typeof hooks.__current[0];\n    } // Return the __current hook.\n\n\n    return hooks.__current[0] ? hookName === hooks.__current[0].name : false;\n  };\n}\n\nexport default createDoingHook;\n//# sourceMappingURL=createDoingHook.js.map","/**\n * Returns a function which, when invoked, will return whether any handlers are\n * attached to a particular hook.\n *\n * @param  {Object}   hooks Stored hooks, keyed by hook name.\n *\n * @return {Function}       Function that returns whether any handlers are\n *                          attached to a particular hook and optional namespace.\n */\nfunction createHasHook(hooks) {\n  /**\n   * Returns whether any handlers are attached for the given hookName and optional namespace.\n   *\n   * @param {string}  hookName  The name of the hook to check for.\n   * @param {?string} namespace Optional. The unique namespace identifying the callback\n   *                                      in the form `vendor/plugin/function`.\n   *\n   * @return {boolean} Whether there are handlers that are attached to the given hook.\n   */\n  return function hasHook(hookName, namespace) {\n    // Use the namespace if provided.\n    if ('undefined' !== typeof namespace) {\n      return hookName in hooks && hooks[hookName].handlers.some(function (hook) {\n        return hook.namespace === namespace;\n      });\n    }\n\n    return hookName in hooks;\n  };\n}\n\nexport default createHasHook;\n//# sourceMappingURL=createHasHook.js.map","/**\n * Internal dependencies\n */\nimport createAddHook from './createAddHook';\nimport createRemoveHook from './createRemoveHook';\nimport createHasHook from './createHasHook';\nimport createRunHook from './createRunHook';\nimport createCurrentHook from './createCurrentHook';\nimport createDoingHook from './createDoingHook';\nimport createDidHook from './createDidHook';\n/**\n * Returns an instance of the hooks object.\n *\n * @return {Object} Object that contains all hooks.\n */\n\nfunction createHooks() {\n  var actions = Object.create(null);\n  var filters = Object.create(null);\n  actions.__current = [];\n  filters.__current = [];\n  return {\n    addAction: createAddHook(actions),\n    addFilter: createAddHook(filters),\n    removeAction: createRemoveHook(actions),\n    removeFilter: createRemoveHook(filters),\n    hasAction: createHasHook(actions),\n    hasFilter: createHasHook(filters),\n    removeAllActions: createRemoveHook(actions, true),\n    removeAllFilters: createRemoveHook(filters, true),\n    doAction: createRunHook(actions),\n    applyFilters: createRunHook(filters, true),\n    currentAction: createCurrentHook(actions),\n    currentFilter: createCurrentHook(filters),\n    doingAction: createDoingHook(actions),\n    doingFilter: createDoingHook(filters),\n    didAction: createDidHook(actions),\n    didFilter: createDidHook(filters),\n    actions: actions,\n    filters: filters\n  };\n}\n\nexport default createHooks;\n//# sourceMappingURL=createHooks.js.map","/**\n * Internal dependencies\n */\nimport validateNamespace from './validateNamespace.js';\nimport validateHookName from './validateHookName.js';\nimport { doAction } from './';\n/**\n * Returns a function which, when invoked, will remove a specified hook or all\n * hooks by the given name.\n *\n * @param  {Object}   hooks      Stored hooks, keyed by hook name.\n * @param  {boolean}     removeAll  Whether to remove all callbacks for a hookName, without regard to namespace. Used to create `removeAll*` functions.\n *\n * @return {Function}            Function that removes hooks.\n */\n\nfunction createRemoveHook(hooks, removeAll) {\n  /**\n   * Removes the specified callback (or all callbacks) from the hook with a\n   * given hookName and namespace.\n   *\n   * @param {string}    hookName  The name of the hook to modify.\n   * @param {string}    namespace The unique namespace identifying the callback in the form `vendor/plugin/function`.\n   *\n   * @return {number}             The number of callbacks removed.\n   */\n  return function removeHook(hookName, namespace) {\n    if (!validateHookName(hookName)) {\n      return;\n    }\n\n    if (!removeAll && !validateNamespace(namespace)) {\n      return;\n    } // Bail if no hooks exist by this name\n\n\n    if (!hooks[hookName]) {\n      return 0;\n    }\n\n    var handlersRemoved = 0;\n\n    if (removeAll) {\n      handlersRemoved = hooks[hookName].handlers.length;\n      hooks[hookName] = {\n        runs: hooks[hookName].runs,\n        handlers: []\n      };\n    } else {\n      // Try to find the specified callback to remove.\n      var handlers = hooks[hookName].handlers;\n\n      var _loop = function _loop(i) {\n        if (handlers[i].namespace === namespace) {\n          handlers.splice(i, 1);\n          handlersRemoved++; // This callback may also be part of a hook that is\n          // currently executing.  If the callback we're removing\n          // comes after the current callback, there's no problem;\n          // otherwise we need to decrease the execution index of any\n          // other runs by 1 to account for the removed element.\n\n          (hooks.__current || []).forEach(function (hookInfo) {\n            if (hookInfo.name === hookName && hookInfo.currentIndex >= i) {\n              hookInfo.currentIndex--;\n            }\n          });\n        }\n      };\n\n      for (var i = handlers.length - 1; i >= 0; i--) {\n        _loop(i);\n      }\n    }\n\n    if (hookName !== 'hookRemoved') {\n      doAction('hookRemoved', hookName, namespace);\n    }\n\n    return handlersRemoved;\n  };\n}\n\nexport default createRemoveHook;\n//# sourceMappingURL=createRemoveHook.js.map","import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\n\n/**\n * Returns a function which, when invoked, will execute all callbacks\n * registered to a hook of the specified type, optionally returning the final\n * value of the call chain.\n *\n * @param  {Object}   hooks          Stored hooks, keyed by hook name.\n * @param  {?boolean}    returnFirstArg Whether each hook callback is expected to\n *                                   return its first argument.\n *\n * @return {Function}                Function that runs hook callbacks.\n */\nfunction createRunHook(hooks, returnFirstArg) {\n  /**\n   * Runs all callbacks for the specified hook.\n   *\n   * @param  {string} hookName The name of the hook to run.\n   * @param  {...*}   args     Arguments to pass to the hook callbacks.\n   *\n   * @return {*}               Return value of runner, if applicable.\n   */\n  return function runHooks(hookName) {\n    if (!hooks[hookName]) {\n      hooks[hookName] = {\n        handlers: [],\n        runs: 0\n      };\n    }\n\n    hooks[hookName].runs++;\n    var handlers = hooks[hookName].handlers; // The following code is stripped from production builds.\n\n    if ('production' !== process.env.NODE_ENV) {\n      // Handle any 'all' hooks registered.\n      if ('hookAdded' !== hookName && hooks.all) {\n        handlers.push.apply(handlers, _toConsumableArray(hooks.all.handlers));\n      }\n    }\n\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    if (!handlers || !handlers.length) {\n      return returnFirstArg ? args[0] : undefined;\n    }\n\n    var hookInfo = {\n      name: hookName,\n      currentIndex: 0\n    };\n\n    hooks.__current.push(hookInfo);\n\n    while (hookInfo.currentIndex < handlers.length) {\n      var handler = handlers[hookInfo.currentIndex];\n      var result = handler.callback.apply(null, args);\n\n      if (returnFirstArg) {\n        args[0] = result;\n      }\n\n      hookInfo.currentIndex++;\n    }\n\n    hooks.__current.pop();\n\n    if (returnFirstArg) {\n      return args[0];\n    }\n  };\n}\n\nexport default createRunHook;\n//# sourceMappingURL=createRunHook.js.map","/**\n * Internal dependencies\n */\nimport createHooks from './createHooks';\n\nvar _createHooks = createHooks(),\n    addAction = _createHooks.addAction,\n    addFilter = _createHooks.addFilter,\n    removeAction = _createHooks.removeAction,\n    removeFilter = _createHooks.removeFilter,\n    hasAction = _createHooks.hasAction,\n    hasFilter = _createHooks.hasFilter,\n    removeAllActions = _createHooks.removeAllActions,\n    removeAllFilters = _createHooks.removeAllFilters,\n    doAction = _createHooks.doAction,\n    applyFilters = _createHooks.applyFilters,\n    currentAction = _createHooks.currentAction,\n    currentFilter = _createHooks.currentFilter,\n    doingAction = _createHooks.doingAction,\n    doingFilter = _createHooks.doingFilter,\n    didAction = _createHooks.didAction,\n    didFilter = _createHooks.didFilter,\n    actions = _createHooks.actions,\n    filters = _createHooks.filters;\n\nexport { createHooks, addAction, addFilter, removeAction, removeFilter, hasAction, hasFilter, removeAllActions, removeAllFilters, doAction, applyFilters, currentAction, currentFilter, doingAction, doingFilter, didAction, didFilter, actions, filters };\n//# sourceMappingURL=index.js.map","/**\n * Validate a hookName string.\n *\n * @param  {string} hookName The hook name to validate. Should be a non empty string containing\n *                           only numbers, letters, dashes, periods and underscores. Also,\n *                           the hook name cannot begin with `__`.\n *\n * @return {boolean}            Whether the hook name is valid.\n */\nfunction validateHookName(hookName) {\n  if ('string' !== typeof hookName || '' === hookName) {\n    // eslint-disable-next-line no-console\n    console.error('The hook name must be a non-empty string.');\n    return false;\n  }\n\n  if (/^__/.test(hookName)) {\n    // eslint-disable-next-line no-console\n    console.error('The hook name cannot begin with `__`.');\n    return false;\n  }\n\n  if (!/^[a-zA-Z][a-zA-Z0-9_.-]*$/.test(hookName)) {\n    // eslint-disable-next-line no-console\n    console.error('The hook name can only contain numbers, letters, dashes, periods and underscores.');\n    return false;\n  }\n\n  return true;\n}\n\nexport default validateHookName;\n//# sourceMappingURL=validateHookName.js.map","/**\n * Validate a namespace string.\n *\n * @param  {string} namespace The namespace to validate - should take the form\n *                            `vendor/plugin/function`.\n *\n * @return {boolean}             Whether the namespace is valid.\n */\nfunction validateNamespace(namespace) {\n  if ('string' !== typeof namespace || '' === namespace) {\n    // eslint-disable-next-line no-console\n    console.error('The namespace must be a non-empty string.');\n    return false;\n  }\n\n  if (!/^[a-zA-Z][a-zA-Z0-9_.\\-\\/]*$/.test(namespace)) {\n    // eslint-disable-next-line no-console\n    console.error('The namespace can only contain numbers, letters, dashes, periods, underscores and slashes.');\n    return false;\n  }\n\n  return true;\n}\n\nexport default validateNamespace;\n//# sourceMappingURL=validateNamespace.js.map","// get successful control from form and assemble into object\n// http://www.w3.org/TR/html401/interact/forms.html#h-17.13.2\n\n// types which indicate a submit action and are not successful controls\n// these will be ignored\nvar k_r_submitter = /^(?:submit|button|image|reset|file)$/i;\n\n// node names which could be successful controls\nvar k_r_success_contrls = /^(?:input|select|textarea|keygen)/i;\n\n// Matches bracket notation.\nvar brackets = /(\\[[^\\[\\]]*\\])/g;\n\n// serializes form fields\n// @param form MUST be an HTMLForm element\n// @param options is an optional argument to configure the serialization. Default output\n// with no options specified is a url encoded string\n//    - hash: [true | false] Configure the output type. If true, the output will\n//    be a js object.\n//    - serializer: [function] Optional serializer function to override the default one.\n//    The function takes 3 arguments (result, key, value) and should return new result\n//    hash and url encoded str serializers are provided with this module\n//    - disabled: [true | false]. If true serialize disabled fields.\n//    - empty: [true | false]. If true serialize empty fields\nfunction serialize(form, options) {\n    if (typeof options != 'object') {\n        options = { hash: !!options };\n    }\n    else if (options.hash === undefined) {\n        options.hash = true;\n    }\n\n    var result = (options.hash) ? {} : '';\n    var serializer = options.serializer || ((options.hash) ? hash_serializer : str_serialize);\n\n    var elements = form && form.elements ? form.elements : [];\n\n    //Object store each radio and set if it's empty or not\n    var radio_store = Object.create(null);\n\n    for (var i=0 ; i<elements.length ; ++i) {\n        var element = elements[i];\n\n        // ingore disabled fields\n        if ((!options.disabled && element.disabled) || !element.name) {\n            continue;\n        }\n        // ignore anyhting that is not considered a success field\n        if (!k_r_success_contrls.test(element.nodeName) ||\n            k_r_submitter.test(element.type)) {\n            continue;\n        }\n\n        var key = element.name;\n        var val = element.value;\n\n        // we can't just use element.value for checkboxes cause some browsers lie to us\n        // they say \"on\" for value when the box isn't checked\n        if ((element.type === 'checkbox' || element.type === 'radio') && !element.checked) {\n            val = undefined;\n        }\n\n        // If we want empty elements\n        if (options.empty) {\n            // for checkbox\n            if (element.type === 'checkbox' && !element.checked) {\n                val = '';\n            }\n\n            // for radio\n            if (element.type === 'radio') {\n                if (!radio_store[element.name] && !element.checked) {\n                    radio_store[element.name] = false;\n                }\n                else if (element.checked) {\n                    radio_store[element.name] = true;\n                }\n            }\n\n            // if options empty is true, continue only if its radio\n            if (val == undefined && element.type == 'radio') {\n                continue;\n            }\n        }\n        else {\n            // value-less fields are ignored unless options.empty is true\n            if (!val) {\n                continue;\n            }\n        }\n\n        // multi select boxes\n        if (element.type === 'select-multiple') {\n            val = [];\n\n            var selectOptions = element.options;\n            var isSelectedOptions = false;\n            for (var j=0 ; j<selectOptions.length ; ++j) {\n                var option = selectOptions[j];\n                var allowedEmpty = options.empty && !option.value;\n                var hasValue = (option.value || allowedEmpty);\n                if (option.selected && hasValue) {\n                    isSelectedOptions = true;\n\n                    // If using a hash serializer be sure to add the\n                    // correct notation for an array in the multi-select\n                    // context. Here the name attribute on the select element\n                    // might be missing the trailing bracket pair. Both names\n                    // \"foo\" and \"foo[]\" should be arrays.\n                    if (options.hash && key.slice(key.length - 2) !== '[]') {\n                        result = serializer(result, key + '[]', option.value);\n                    }\n                    else {\n                        result = serializer(result, key, option.value);\n                    }\n                }\n            }\n\n            // Serialize if no selected options and options.empty is true\n            if (!isSelectedOptions && options.empty) {\n                result = serializer(result, key, '');\n            }\n\n            continue;\n        }\n\n        result = serializer(result, key, val);\n    }\n\n    // Check for all empty radio buttons and serialize them with key=\"\"\n    if (options.empty) {\n        for (var key in radio_store) {\n            if (!radio_store[key]) {\n                result = serializer(result, key, '');\n            }\n        }\n    }\n\n    return result;\n}\n\nfunction parse_keys(string) {\n    var keys = [];\n    var prefix = /^([^\\[\\]]*)/;\n    var children = new RegExp(brackets);\n    var match = prefix.exec(string);\n\n    if (match[1]) {\n        keys.push(match[1]);\n    }\n\n    while ((match = children.exec(string)) !== null) {\n        keys.push(match[1]);\n    }\n\n    return keys;\n}\n\nfunction hash_assign(result, keys, value) {\n    if (keys.length === 0) {\n        result = value;\n        return result;\n    }\n\n    var key = keys.shift();\n    var between = key.match(/^\\[(.+?)\\]$/);\n\n    if (key === '[]') {\n        result = result || [];\n\n        if (Array.isArray(result)) {\n            result.push(hash_assign(null, keys, value));\n        }\n        else {\n            // This might be the result of bad name attributes like \"[][foo]\",\n            // in this case the original `result` object will already be\n            // assigned to an object literal. Rather than coerce the object to\n            // an array, or cause an exception the attribute \"_values\" is\n            // assigned as an array.\n            result._values = result._values || [];\n            result._values.push(hash_assign(null, keys, value));\n        }\n\n        return result;\n    }\n\n    // Key is an attribute name and can be assigned directly.\n    if (!between) {\n        result[key] = hash_assign(result[key], keys, value);\n    }\n    else {\n        var string = between[1];\n        // +var converts the variable into a number\n        // better than parseInt because it doesn't truncate away trailing\n        // letters and actually fails if whole thing is not a number\n        var index = +string;\n\n        // If the characters between the brackets is not a number it is an\n        // attribute name and can be assigned directly.\n        if (isNaN(index)) {\n            result = result || {};\n            result[string] = hash_assign(result[string], keys, value);\n        }\n        else {\n            result = result || [];\n            result[index] = hash_assign(result[index], keys, value);\n        }\n    }\n\n    return result;\n}\n\n// Object/hash encoding serializer.\nfunction hash_serializer(result, key, value) {\n    var matches = key.match(brackets);\n\n    // Has brackets? Use the recursive assignment function to walk the keys,\n    // construct any missing objects in the result tree and make the assignment\n    // at the end of the chain.\n    if (matches) {\n        var keys = parse_keys(key);\n        hash_assign(result, keys, value);\n    }\n    else {\n        // Non bracket notation can make assignments directly.\n        var existing = result[key];\n\n        // If the value has been assigned already (for instance when a radio and\n        // a checkbox have the same name attribute) convert the previous value\n        // into an array before pushing into it.\n        //\n        // NOTE: If this requirement were removed all hash creation and\n        // assignment could go through `hash_assign`.\n        if (existing) {\n            if (!Array.isArray(existing)) {\n                result[key] = [ existing ];\n            }\n\n            result[key].push(value);\n        }\n        else {\n            result[key] = value;\n        }\n    }\n\n    return result;\n}\n\n// urlform encoding serializer\nfunction str_serialize(result, key, value) {\n    // encode newlines as \\r\\n cause the html spec says so\n    value = value.replace(/(\\r)?\\n/g, '\\r\\n');\n    value = encodeURIComponent(value);\n\n    // spaces should be '+' rather than '%20'.\n    value = value.replace(/%20/g, '+');\n    return result + (result ? '&' : '') + encodeURIComponent(key) + '=' + value;\n}\n\nmodule.exports = serialize;\n","/* global $, simpayAdmin */\n\n/**\n * WordPress dependencies\n */\nimport domReady from '@wordpress/dom-ready';\n\nconst s = {\n\ticonActivate:\n\t\t'<i class=\"fa fa-toggle-on fa-flip-horizontal\" aria-hidden=\"true\"></i>',\n\ticonDeactivate: '<i class=\"fa fa-toggle-on\" aria-hidden=\"true\"></i>',\n\ticonInstall: '<i class=\"fa fa-cloud-download\" aria-hidden=\"true\"></i>',\n\ticonSpinner: '<i class=\"fa fa-spinner fa-spin\" aria-hidden=\"true\"></i>',\n\tmediaFrame: false,\n};\n\nconst { nonce, ajaxUrl, i18n } = simpayAdmin;\n\nconst {\n\taddonActivated,\n\taddonActivate,\n\taddonActive,\n\taddonDeactivate,\n\taddonInactive,\n\taddonInstall,\n\taddonError,\n\tpluginError,\n} = i18n;\n\n/**\n * Change plugin/addon state.\n *\n * @since 1.6.3\n *\n * @param {string}   plugin     Plugin slug or URL for download.\n * @param {string}   state      State status activate|deactivate|install.\n * @param {string}   pluginType Plugin type addon or plugin.\n * @param {Function} callback   Callback for get result from AJAX.\n */\nfunction setAddonState( plugin, state, pluginType, callback ) {\n\tconst actions = {\n\t\t\tactivate: 'simpay_activate_addon',\n\t\t\tinstall: 'simpay_install_addon',\n\t\t\tdeactivate: 'simpay_deactivate_addon',\n\t\t},\n\t\taction = actions[ state ];\n\n\tif ( ! action ) {\n\t\treturn;\n\t}\n\n\tconst data = {\n\t\taction,\n\t\tnonce,\n\t\tplugin,\n\t\ttype: pluginType,\n\t};\n\n\t$.post( ajaxUrl, data, callback ).fail( function ( xhr ) {\n\t\tconsole.log( xhr.responseText );\n\t} );\n}\n\n/**\n * Toggles addon state.\n *\n * @param {PointerEvent} e Click event.\n */\nfunction addonToggle( e ) {\n\te.preventDefault();\n\n\tconst $btn = $( e.target );\n\tlet state, cssClass, stateText, buttonText, errorText, successText;\n\n\tif ( $btn.hasClass( 'status-go-to-url' ) ) {\n\t\t// Open url in new tab.\n\t\twindow.open( $btn.attr( 'data-plugin' ), '_blank' );\n\t\treturn;\n\t}\n\n\tconst pluginType = $btn.attr( 'data-type' );\n\n\t$btn.prop( 'disabled', true ).addClass( 'loading' );\n\t$btn.html( s.iconSpinner );\n\n\tif ( $btn.hasClass( 'status-active' ) ) {\n\t\t// Deactivate.\n\t\tstate = 'deactivate';\n\t\tcssClass = 'status-installed';\n\n\t\tif ( pluginType === 'plugin' ) {\n\t\t\tcssClass += ' button button-secondary';\n\t\t}\n\n\t\tstateText = addonInactive;\n\t\tbuttonText = addonActivate;\n\t\terrorText = addonDeactivate;\n\n\t\tif ( pluginType === 'addon' ) {\n\t\t\tbuttonText = s.iconActivate + buttonText;\n\t\t\terrorText = s.iconDeactivate + errorText;\n\t\t}\n\t} else if ( $btn.hasClass( 'status-installed' ) ) {\n\t\t// Activate.\n\t\tstate = 'activate';\n\t\tcssClass = 'status-active';\n\n\t\tif ( pluginType === 'plugin' ) {\n\t\t\tcssClass += ' button button-secondary disabled';\n\t\t}\n\n\t\tstateText = addonActive;\n\t\tbuttonText = addonDeactivate;\n\n\t\tif ( pluginType === 'addon' ) {\n\t\t\tbuttonText = s.iconDeactivate + buttonText;\n\t\t\terrorText = s.iconActivate + addonActivate;\n\t\t} else if ( pluginType === 'plugin' ) {\n\t\t\tbuttonText = addonActivated;\n\t\t\terrorText = addonActivate;\n\t\t}\n\t} else if ( $btn.hasClass( 'status-missing' ) ) {\n\t\t// Install & Activate.\n\t\tstate = 'install';\n\t\tcssClass = 'status-active';\n\n\t\tif ( pluginType === 'plugin' ) {\n\t\t\tcssClass += ' button disabled';\n\t\t}\n\n\t\tstateText = addonActive;\n\t\tbuttonText = addonActivated;\n\t\terrorText = s.iconInstall;\n\n\t\tif ( pluginType === 'addon' ) {\n\t\t\tbuttonText = s.iconActivate + addonDeactivate;\n\t\t\terrorText += addonInstall;\n\t\t}\n\t} else {\n\t\treturn;\n\t}\n\n\tconst $addon = $btn.closest( '.simpay-addon' ),\n\t\tplugin = $btn.attr( 'data-plugin' );\n\n\tsetAddonState( plugin, state, pluginType, function ( res ) {\n\t\tif ( res.success ) {\n\t\t\tif ( 'install' === state ) {\n\t\t\t\t$btn.attr( 'data-plugin', res.data.basename );\n\n\t\t\t\tsuccessText = res.data.msg;\n\n\t\t\t\tif ( ! res.data.is_activated ) {\n\t\t\t\t\tstateText = addonInactive;\n\t\t\t\t\tbuttonText =\n\t\t\t\t\t\t'plugin' === pluginType\n\t\t\t\t\t\t\t? addonActivate\n\t\t\t\t\t\t\t: s.iconActivate + addonActivate;\n\t\t\t\t\tcssClass =\n\t\t\t\t\t\t'plugin' === pluginType\n\t\t\t\t\t\t\t? 'status-installed button button-secondary'\n\t\t\t\t\t\t\t: 'status-installed';\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tsuccessText = res.data;\n\t\t\t}\n\n\t\t\t$addon\n\t\t\t\t.find( '.simpay-addon__actions' )\n\t\t\t\t.append( '<div class=\"msg success\">' + successText + '</div>' );\n\t\t\t$addon\n\t\t\t\t.find( 'span.status-label' )\n\t\t\t\t.removeClass( 'status-active status-installed status-missing' )\n\t\t\t\t.addClass( cssClass )\n\t\t\t\t.removeClass(\n\t\t\t\t\t'button button-primary button-secondary disabled'\n\t\t\t\t)\n\t\t\t\t.text( stateText );\n\t\t\t$btn.removeClass( 'status-active status-installed status-missing' )\n\t\t\t\t.removeClass(\n\t\t\t\t\t'button button-primary button-secondary disabled'\n\t\t\t\t)\n\t\t\t\t.addClass( cssClass )\n\t\t\t\t.html( buttonText );\n\t\t} else {\n\t\t\tif ( 'object' === typeof res.data ) {\n\t\t\t\tif ( pluginType === 'addon' ) {\n\t\t\t\t\t$addon\n\t\t\t\t\t\t.find( '.simpay-addon__actions' )\n\t\t\t\t\t\t.append(\n\t\t\t\t\t\t\t'<div class=\"msg error\">' + addonError + '</div>'\n\t\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\t$addon\n\t\t\t\t\t\t.find( '.simpay-addon__actions' )\n\t\t\t\t\t\t.append(\n\t\t\t\t\t\t\t'<div class=\"msg error\">' + pluginError + '</div>'\n\t\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t$addon\n\t\t\t\t\t.find( '.simpay-addon__actions' )\n\t\t\t\t\t.append( '<div class=\"msg error\">' + res.data + '</div>' );\n\t\t\t}\n\n\t\t\tif ( 'install' === state && 'plugin' === pluginType ) {\n\t\t\t\t$btn.addClass( 'status-go-to-url' ).removeClass(\n\t\t\t\t\t'status-missing'\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t$btn.html( errorText );\n\t\t}\n\n\t\t$btn.prop( 'disabled', false ).removeClass( 'loading' );\n\n\t\t// Automatically clear addon messages after 3 seconds.\n\t\tsetTimeout( function () {\n\t\t\t$addon.find( '.msg' ).remove();\n\t\t}, 3000 );\n\t} );\n}\n\n/**\n * DOM ready.\n */\ndomReady( () => {\n\tif ( ! document.querySelector( '.simpay-addons' ) ) {\n\t\treturn;\n\t}\n\n\tconst addOns = document.querySelectorAll( '.simpay-addon' );\n\n\taddOns.forEach( ( addOn ) => {\n\t\taddOn\n\t\t\t.querySelector( 'button' )\n\t\t\t.addEventListener( 'click', addonToggle );\n\t} );\n} );\n","/* global spGeneral, jQuery */\n\n/**\n * Internal dependencies.\n */\nimport hooks from '@wpsimplepay/hooks';\nimport './settings/toggles.js';\nimport './settings/test-mode.js';\nimport { toggleStripeConnectNotice } from './settings/stripe-connect.js';\nimport './settings/recaptcha.js';\nimport './payment-form';\nimport './addons.js';\nimport './utils.js';\n\n/**\n * Globallly accessible object of WP Simple Pay-related (admin) functionality.\n */\nwindow.wpsp = window.wpsp || {\n\thooks,\n};\n\nlet spAdmin = {};\n\n( function ( $ ) {\n\t'use strict';\n\n\tlet body, spFormSettings;\n\n\tspAdmin = {\n\t\tinit() {\n\t\t\t// Set main vars on init.\n\t\t\tbody = $( document.body );\n\t\t\tspFormSettings = body.find( '#simpay-form-settings' );\n\n\t\t\t// Init admin metabox tab clicks.\n\t\t\tthis.handleMetaboxTabClick();\n\n\t\t\t//\n\t\t\t// Handle toggles.\n\t\t\t//\n\n\t\t\t// Sortable metabox implementation.\n\t\t\t// Must attach to wrapper to handle live DOM additions.\n\t\t\tif ( window.postboxes && window.postboxes.handle_click ) {\n\t\t\t\tspFormSettings.on(\n\t\t\t\t\t'click',\n\t\t\t\t\t'.postbox .simpay-hndle, .postbox .simpay-handlediv',\n\t\t\t\t\twindow.postboxes.handle_click\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t// Radios settings.\n\t\t\t[\n\t\t\t\t'_amount_type',\n\t\t\t\t'_success_redirect_type',\n\t\t\t\t'_subscription_type',\n\t\t\t\t'_subscription_custom_amount',\n\t\t\t\t'_form_display_type',\n\t\t\t\t'.simpay-total-amount-label-recurring',\n\t\t\t\t'.simpay-total-amount-label-tax',\n\t\t\t\t'.simpay-shipping-address',\n\t\t\t\t'.simpay-text-multiline',\n\t\t\t\t'.simpay-dropdown-type',\n\t\t\t\t'.simpay-radio-type',\n\t\t\t\t'.simpay-price-enable-custom',\n\t\t\t\t'.simpay-price-type input',\n\t\t\t].forEach( ( input ) => {\n\t\t\t\t// Allow classes to be passed, but prefer an input name.\n\t\t\t\tlet inputEl = $( input );\n\t\t\t\tlet isCustomFieldToggle = false;\n\n\t\t\t\tif ( '.' !== input.substring( 0, 1 ) ) {\n\t\t\t\t\tinputEl = `input[name=\"${ input }\"]`;\n\t\t\t\t} else {\n\t\t\t\t\tinputEl = input;\n\t\t\t\t\tisCustomFieldToggle = true;\n\t\t\t\t}\n\n\t\t\t\t// Find each setting.\n\t\t\t\t$( '#simpay-form-settings' )\n\t\t\t\t\t/**\n\t\t\t\t\t * Toggles content based on an input's current value.\n\t\t\t\t\t *\n\t\t\t\t\t * @since 3.8.0\n\t\t\t\t\t */\n\t\t\t\t\t.on( 'change', inputEl, function () {\n\t\t\t\t\t\tlet parent = $( '#simpay-form-settings' );\n\n\t\t\t\t\t\tif ( true === isCustomFieldToggle ) {\n\t\t\t\t\t\t\tparent = $( this ).closest( '.simpay-field-data' );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Get the toggled setting value.\n\t\t\t\t\t\tlet current = $( this ).val();\n\n\t\t\t\t\t\t// Alter the current \"value\" if using a checkbox, which always has\n\t\t\t\t\t\t// a property value of `yes`.\n\t\t\t\t\t\tif ( $( this ).is( ':checkbox' ) ) {\n\t\t\t\t\t\t\tcurrent = $( this ).is( ':checked' ) ? 'yes' : 'no';\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Find all linked content via `[data-toggle=\"\"]` where the matching\n\t\t\t\t\t\t// values will be shown and others hidden.\n\t\t\t\t\t\tparent\n\t\t\t\t\t\t\t.find(\n\t\t\t\t\t\t\t\t$( `.simpay-show-if[data-if=\"${ input }\"]` )\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t.each( function () {\n\t\t\t\t\t\t\t\tconst content = $( this );\n\t\t\t\t\t\t\t\tconst showIf = content.data( 'is' );\n\n\t\t\t\t\t\t\t\t// All all initially.\n\t\t\t\t\t\t\t\tcontent.hide();\n\n\t\t\t\t\t\t\t\t// Show items where `[data-if=\"\"]` contains the toggle input value.\n\t\t\t\t\t\t\t\tif ( showIf.includes( current ) ) {\n\t\t\t\t\t\t\t\t\tcontent.show().css( 'display', 'block' );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t} );\n\n\t\t\t\t// Trigger initial state.\n\t\t\t\t$( inputEl ).filter( ':checked' ).trigger( 'change' );\n\t\t\t} );\n\n\t\t\t// Stripe Connect toggle notice.\n\t\t\thooks.addAction(\n\t\t\t\t'settings.toggleTestMode',\n\t\t\t\t'wpsp/settings/stripe-connect',\n\t\t\t\ttoggleStripeConnectNotice\n\t\t\t);\n\n\t\t\t// Init internal link to tab clicks.\n\t\t\tspFormSettings.on(\n\t\t\t\t'click.simpayTabLink',\n\t\t\t\t'.simpay-tab-link',\n\t\t\t\tfunction ( e ) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tspAdmin.handleInternalLinkToTabClicks( $( this ) );\n\t\t\t\t}\n\t\t\t);\n\n\t\t\t// Remove image preview click.\n\t\t\tspFormSettings.on(\n\t\t\t\t'click.simpayImagePreview',\n\t\t\t\t'.simpay-remove-image-preview',\n\t\t\t\tfunction ( e ) {\n\t\t\t\t\tspAdmin.handleRemoveImagePreviewClick( e );\n\t\t\t\t}\n\t\t\t);\n\n\t\t\t// Use chosen for select fields\n\t\t\tthis.setupChosen();\n\n\t\t\t// Media Uploader\n\t\t\tthis.addMediaFields();\n\n\t\t\tthis.stripeConnect();\n\n\t\t\t// Payment Mode.\n\t\t\t//\n\t\t\t// Disable modes that are not globally available.\n\t\t\tconst paymentModeSelector = $( '.simpay-payment-modes' );\n\n\t\t\tif ( paymentModeSelector.length ) {\n\t\t\t\tconst paymentModes = paymentModeSelector.find( 'input' );\n\n\t\t\t\tpaymentModes.each( function () {\n\t\t\t\t\tconst mode = $( this );\n\n\t\t\t\t\tif (\n\t\t\t\t\t\t! paymentModeSelector.hasClass(\n\t\t\t\t\t\t\t'simpay-payment-mode--' + mode.val()\n\t\t\t\t\t\t)\n\t\t\t\t\t) {\n\t\t\t\t\t\tmode.attr( 'disabled', true );\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\tbody.trigger( 'simpayAdminInit' );\n\t\t},\n\n\t\thandleRemoveImagePreviewClick( e ) {\n\t\t\te.preventDefault();\n\n\t\t\tspFormSettings.find( '.simpay-image-preview-wrap' ).hide();\n\n\t\t\tspFormSettings.find( '#_image_url' ).val( '' );\n\t\t},\n\n\t\taddMediaFields() {\n\t\t\tlet simpayMediaUploader;\n\n\t\t\t$( '.simpay-media-uploader' ).on( 'click', function ( e ) {\n\t\t\t\te.preventDefault();\n\n\t\t\t\t// This is our button\n\t\t\t\twindow.simpayMediaUploaderInputField = $( this );\n\n\t\t\t\t// If the uploader object has already been created, reopen the dialog\n\t\t\t\tif ( simpayMediaUploader ) {\n\t\t\t\t\tsimpayMediaUploader.open();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Extend the wp.media object\n\t\t\t\tsimpayMediaUploader = wp.media.frames.file_frame = wp.media( {\n\t\t\t\t\ttitle: spGeneral.i18n.mediaTitle,\n\t\t\t\t\tbutton: {\n\t\t\t\t\t\ttext: spGeneral.i18n.mediaButtonText,\n\t\t\t\t\t},\n\t\t\t\t\tmultiple: false,\n\t\t\t\t} );\n\n\t\t\t\t// When a file is selected, grab the URL and set it as the text field's value\n\t\t\t\tsimpayMediaUploader.on( 'select', function () {\n\t\t\t\t\tconst attachment = simpayMediaUploader\n\t\t\t\t\t\t\t.state()\n\t\t\t\t\t\t\t.get( 'selection' )\n\t\t\t\t\t\t\t.first()\n\t\t\t\t\t\t\t.toJSON(),\n\t\t\t\t\t\tinputField = $( '#_image_url' ), // Get the field previous to our button, aka our input field.\n\t\t\t\t\t\timage =\n\t\t\t\t\t\t\t'id' === inputField.data( 'fvalue' )\n\t\t\t\t\t\t\t\t? attachment.id\n\t\t\t\t\t\t\t\t: attachment.url;\n\n\t\t\t\t\t// Update our image preview\n\t\t\t\t\t$( '.simpay-image-preview-wrap' ).show();\n\t\t\t\t\t$( '.simpay-image-preview' ).prop( 'src', image );\n\n\t\t\t\t\tinputField.val( image );\n\t\t\t\t} );\n\n\t\t\t\t// Open the uploader dialog\n\t\t\t\tsimpayMediaUploader.open();\n\t\t\t} );\n\t\t},\n\n\t\tsetupChosen() {\n\t\t\tconst chosenSelect = $(\n\t\t\t\t'.simpay-chosen-select, .simpay-chosen-search'\n\t\t\t);\n\n\t\t\tchosenSelect.chosen( { disable_search_threshold: 20 } );\n\t\t\tchosenSelect.chosen();\n\t\t},\n\n\t\t// Tabbed Panels in Settings Meta Box.\n\t\t// All nav list items are inactive (no \"active\" class) except first by default.\n\t\t// All tab panel content containers are hidden (\"simpay-panel-hidden\" class) except first by default.\n\t\t// Can make specific panel active on initial page load via url hash.\n\n\t\thandleMetaboxTabClick() {\n\t\t\tconst tabLinks = $( 'ul.simpay-tabs a' );\n\t\t\tconst panels = $( 'div.simpay-panel' );\n\t\t\tconst allTabLinkParents = tabLinks.parents( 'li' );\n\n\t\t\t// When a tab link is clicked.\n\t\t\ttabLinks.on( 'click', function ( e ) {\n\t\t\t\te.preventDefault();\n\n\t\t\t\tconst currentTabLinkParent = $( this ).parent();\n\n\t\t\t\t// Assign current tab element to var from link href attribute.\n\t\t\t\tconst currentTabEl = $( $( this ).attr( 'href' ) );\n\n\t\t\t\t// Set the hash in the URL so after saving we get the same tab\n\t\t\t\tconst hash = $( this ).attr( 'href' );\n\t\t\t\thistory.pushState( null, null, hash );\n\n\t\t\t\t// Avoid jumping to ID after setting anchor.\n\t\t\t\tsetTimeout( function () {\n\t\t\t\t\twindow.scrollTo( 0, 0 );\n\t\t\t\t}, 1 );\n\n\t\t\t\t$( '[name=\"simpay_form_settings_tab\"]' ).val( hash );\n\n\t\t\t\t$( '.simpay-panels > .spinner' ).hide();\n\n\t\t\t\t// Remove active class from all tabs.\n\t\t\t\tallTabLinkParents.removeClass( 'active' );\n\n\t\t\t\t// Add active class back to current tab.\n\t\t\t\tcurrentTabLinkParent.addClass( 'active' );\n\n\t\t\t\t// Hide content with all tab panels.\n\t\t\t\tpanels.addClass( 'simpay-panel-hidden' );\n\n\t\t\t\t// Show current tab's content.\n\t\t\t\tcurrentTabEl.removeClass( 'simpay-panel-hidden' );\n\t\t\t} );\n\n\t\t\tlet activeTab = '#form-display-options-settings-panel';\n\n\t\t\t// Auto open tab if in url hash.\n\t\t\tif ( location.hash.length ) {\n\t\t\t\tactiveTab = location.hash;\n\t\t\t}\n\n\t\t\tconst activeTabLink = $(\n\t\t\t\t'ul.simpay-tabs a[href=\"' + activeTab + '\"]'\n\t\t\t);\n\n\t\t\t$( '[name=\"simpay_form_settings_tab\"]' ).val( activeTab );\n\n\t\t\tif ( activeTabLink.length ) {\n\t\t\t\tactiveTabLink.click();\n\t\t\t}\n\t\t},\n\n\t\tstripeConnect() {\n\t\t\tconst rows =\n\t\t\t\t'tr:nth-child(2), tr:nth-child(3), tr:nth-child(4), tr:nth-child(5)';\n\n\t\t\t$( '.simpay-settings.stripe-account .form-table' )\n\t\t\t\t.find( rows )\n\t\t\t\t.hide();\n\n\t\t\t$( '#wpsp-api-keys-row-reveal button' ).on(\n\t\t\t\t'click',\n\t\t\t\tfunction ( e ) {\n\t\t\t\t\te.preventDefault();\n\n\t\t\t\t\t$( '.simpay-settings.stripe-account .form-table' )\n\t\t\t\t\t\t.find( rows )\n\t\t\t\t\t\t.show();\n\n\t\t\t\t\t$( '#wpsp-api-keys-row-hide' ).show();\n\t\t\t\t\t$( this ).parent().hide();\n\t\t\t\t\t$( '.wpsp-manual-key-warning' ).show();\n\t\t\t\t}\n\t\t\t);\n\n\t\t\t$( '#wpsp-api-keys-row-hide button' ).on( 'click', function ( e ) {\n\t\t\t\te.preventDefault();\n\n\t\t\t\t$( '.simpay-settings.stripe-account .form-table' )\n\t\t\t\t\t.find( rows )\n\t\t\t\t\t.hide();\n\n\t\t\t\t$( '#wpsp-api-keys-row-reveal' ).show();\n\t\t\t\t$( this ).parent().hide();\n\t\t\t\t$( '.wpsp-manual-key-warning' ).hide();\n\t\t\t} );\n\t\t},\n\n\t\t// Handle links within tab content to other tabs.\n\t\t// When one is clicked, trigger the corresponding tab link click.\n\t\thandleInternalLinkToTabClicks( el ) {\n\t\t\tconst tabToShowId = el.data( 'show-tab' ),\n\t\t\t\ttabToShowLinkEl = body.find( '.' + tabToShowId + '-tab a' );\n\n\t\t\ttabToShowLinkEl.click();\n\t\t},\n\t};\n\n\t$( document ).ready( function ( $ ) {\n\t\tspAdmin.init();\n\t} );\n} )( jQuery );\n","/* global simpayAdmin, grecaptcha, simpayGoogleRecaptcha, jQuery */\n\n/**\n * External dependencies.\n */\nimport serialize from 'form-serialize';\n\n/**\n * WordPress dependencies\n */\nimport domReady from '@wordpress/dom-ready';\n\n/**\n * Alerts the user when they are about to leave unsaved changes.\n *\n * @since 4.4.1\n *\n * @param {string} initialValues Serialized form initial values.\n */\nfunction onLeavePage( initialValues ) {\n\t/**\n\t * Alerts the user when they are about to leave unsaved changes.\n\t *\n\t * @since 4.4.1\n\t *\n\t * @param {Event} event beforeunload event.\n\t * @return {string} Message to display in the browser's confirmation dialog (when supported).\n\t */\n\tfunction confirmLeave( event ) {\n\t\tconst newFormValues = serialize(\n\t\t\tdocument.querySelector( '.post-type-simple-pay form#post' ),\n\t\t\t{ hash: true }\n\t\t);\n\t\tdelete newFormValues.simpay_form_settings_tab;\n\n\t\tif ( JSON.stringify( newFormValues ) !== initialValues ) {\n\t\t\tevent.preventDefault();\n\n\t\t\t// The return string is needed for browser compat.\n\t\t\t// See https://developer.mozilla.org/en-US/docs/Web/API/Window/beforeunload_event.\n\t\t\treturn simpayAdmin.i18n.leavePageConfirm;\n\t\t}\n\t}\n\n\t// eslint-disable-next-line @wordpress/no-global-event-listener\n\twindow.addEventListener( 'beforeunload', confirmLeave );\n\twindow.onbeforeunload = confirmLeave;\n\n\t// Use jQuery to match WordPress core.\n\tjQuery( '.post-type-simple-pay form#post' )\n\t\t.off( 'submit' )\n\t\t.on( 'submit', function () {\n\t\t\t// eslint-disable-next-line @wordpress/no-global-event-listener\n\t\t\twindow.removeEventListener( 'beforeunload', confirmLeave );\n\t\t\twindow.onbeforeunload = null;\n\t\t} );\n}\n\n/**\n * Provides feedback to reCAPTCHA configuration.\n */\nfunction reCaptchaFeedback() {\n\tconst feedbackNoticeEl = document.querySelector(\n\t\t'.simpay-recaptcha-payment-form-feedback'\n\t);\n\n\tif ( ! feedbackNoticeEl ) {\n\t\treturn;\n\t}\n\n\tconst feedbackNoticeElDesc = document.querySelector(\n\t\t'.simpay-recaptcha-payment-form-description'\n\t);\n\tconst { siteKey, i18n } = simpayGoogleRecaptcha;\n\n\tfeedbackNoticeElDesc.style.display = 'none';\n\n\tfunction onError() {\n\t\tfeedbackNoticeEl.style.color = '#b32d2e';\n\t\tfeedbackNoticeEl.style.display = 'inline';\n\t\tfeedbackNoticeEl.innerHTML = i18n.disabled;\n\n\t\tfeedbackNoticeElDesc.style.display = 'inline-block';\n\t}\n\n\tfunction onSuccess() {\n\t\tfeedbackNoticeEl.style.color = 'green';\n\t\tfeedbackNoticeEl.style.display = 'inline';\n\t\tfeedbackNoticeEl.innerHTML = i18n.enabled;\n\n\t\tfeedbackNoticeElDesc.style.display = 'inline-block';\n\t}\n\n\tif ( '' === siteKey ) {\n\t\treturn onError();\n\t}\n\n\tgrecaptcha.ready( () => {\n\t\tconst badge = document.querySelector( '.grecaptcha-badge' );\n\n\t\tif ( badge ) {\n\t\t\tbadge.style.display = 'none';\n\t\t}\n\n\t\ttry {\n\t\t\tgrecaptcha\n\t\t\t\t.execute( siteKey, {\n\t\t\t\t\taction: `simple_pay_admin_test`,\n\t\t\t\t} )\n\t\t\t\t.then( ( token ) => {\n\t\t\t\t\twp.ajax.send( 'simpay_validate_recaptcha_source', {\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\ttoken,\n\t\t\t\t\t\t\trecaptcha_action: 'simple_pay_admin_test',\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsuccess: onSuccess,\n\t\t\t\t\t\terror: onError,\n\t\t\t\t\t} );\n\t\t\t\t} )\n\t\t\t\t.catch( onError );\n\t\t} catch ( error ) {\n\t\t\tonError();\n\t\t}\n\t} );\n}\n\n/**\n * Provides feebdack to Title requirement.\n */\nfunction requireFormTitle() {\n\tconst formTitleInput = document.querySelector( '#_company_name' );\n\n\tif ( ! formTitleInput ) {\n\t\treturn;\n\t}\n\n\t/**\n\t * Appends an error message if the input is empty and refills with the site title.\n\t */\n\tformTitleInput.addEventListener( 'blur', function () {\n\t\tif ( formTitleInput.value.length === 0 ) {\n\t\t\tformTitleInput.nextElementSibling.classList.remove( 'hidden' );\n\t\t\tformTitleInput.value = simpayAdmin.siteTitle;\n\t\t} else {\n\t\t\tformTitleInput.nextElementSibling.classList.add( 'hidden' );\n\t\t}\n\t} );\n\n\tformTitleInput.addEventListener( 'focus', function () {\n\t\tif ( formTitleInput.value.length !== 0 ) {\n\t\t\tformTitleInput.nextElementSibling.classList.add( 'hidden' );\n\t\t}\n\t} );\n}\n\n/**\n * DOM ready.\n */\ndomReady( () => {\n\tconst formSettings = document.querySelector(\n\t\t'.post-type-simple-pay #post'\n\t);\n\n\tif ( formSettings ) {\n\t\tconst formValues = serialize( formSettings, { hash: true } );\n\t\tdelete formValues.simpay_form_settings_tab;\n\t\tonLeavePage( JSON.stringify( formValues ) );\n\n\t\treCaptchaFeedback();\n\t\trequireFormTitle();\n\t}\n} );\n","import './general.js';\nimport './prices.js';\n","/* global wp, _, jQuery, spGeneral */\n\n/**\n * WordPress dependencies\n */\nimport domReady from '@wordpress/dom-ready';\n\n/**\n * Updates the display label as settings change.\n *\n * @param {HTMLElement} priceEl Price container element.\n */\nfunction onChangeLabel( priceEl ) {\n\tconst labelDisplay = priceEl.querySelector( '.simpay-price-label-display' );\n\tconst labelInput = priceEl.querySelector( '.simpay-price-label' );\n\n\tconst {\n\t\tstrings: { recurringIntervalDisplay, customAmountLabel },\n\t} = spGeneral;\n\n\tif ( '' !== labelInput.value ) {\n\t\tlabelDisplay.innerHTML = labelInput.value;\n\t} else {\n\t\tlet label;\n\t\tconst currencyInput = priceEl.querySelector( '.simpay-price-currency' );\n\t\tconst amountInput = priceEl.querySelector( '.simpay-price-amount' );\n\t\tconst amountTypeInput = priceEl.querySelector(\n\t\t\t'.simpay-price-amount-type'\n\t\t);\n\n\t\tconst customAmountInput = priceEl.querySelector(\n\t\t\t'.simpay-price-custom-amount input'\n\t\t);\n\t\tconst customAmountToggle = priceEl.querySelector(\n\t\t\t'.simpay-price-enable-custom-amount'\n\t\t);\n\n\t\tconst {\n\t\t\tstrings: { currencyPosition, recurringIntervals },\n\t\t} = spGeneral;\n\t\tconst currencySymbol =\n\t\t\tcurrencyInput.options[ currencyInput.selectedIndex ].dataset.symbol;\n\n\t\tif ( true === customAmountToggle.checked ) {\n\t\t\tlabel = customAmountInput.value;\n\t\t} else {\n\t\t\tlabel = amountInput.value;\n\t\t}\n\n\t\tswitch ( currencyPosition ) {\n\t\t\tcase 'left':\n\t\t\t\tlabel = `${ currencySymbol }${ label }`;\n\t\t\t\tbreak;\n\t\t\tcase 'left_space':\n\t\t\t\tlabel = `${ currencySymbol } ${ label }`;\n\t\t\t\tbreak;\n\t\t\tcase 'right':\n\t\t\t\tlabel = `${ label }${ currencySymbol }`;\n\t\t\t\tbreak;\n\t\t\tcase 'right_space':\n\t\t\t\tlabel = `${ label } ${ currencySymbol }`;\n\t\t\t\tbreak;\n\t\t}\n\n\t\tif ( true === customAmountToggle.checked ) {\n\t\t\tlabel = customAmountLabel.replace( '%s', label );\n\t\t}\n\n\t\tif ( 'recurring' === amountTypeInput.value ) {\n\t\t\tconst recurringInterval = priceEl.querySelector(\n\t\t\t\t'.simpay-price-recurring-interval'\n\t\t\t);\n\n\t\t\tconst recurringIntervalCount = priceEl.querySelector(\n\t\t\t\t'.simpay-price-recurring-interval-count'\n\t\t\t);\n\n\t\t\tconst recurringIntervalDisplayNouns =\n\t\t\t\trecurringIntervals[\n\t\t\t\t\trecurringInterval.options[ recurringInterval.selectedIndex ]\n\t\t\t\t\t\t.value\n\t\t\t\t];\n\n\t\t\tlet recurringIntervalDisplayReplaced = recurringIntervalDisplay;\n\n\t\t\trecurringIntervalDisplayReplaced = recurringIntervalDisplayReplaced.replace(\n\t\t\t\t'%1$s',\n\t\t\t\tlabel\n\t\t\t);\n\n\t\t\trecurringIntervalDisplayReplaced = recurringIntervalDisplayReplaced.replace(\n\t\t\t\t'%2$s',\n\t\t\t\trecurringIntervalCount.value\n\t\t\t);\n\n\t\t\trecurringIntervalDisplayReplaced = recurringIntervalDisplayReplaced.replace(\n\t\t\t\t'%3$s',\n\t\t\t\trecurringIntervalCount.value === '1'\n\t\t\t\t\t? recurringIntervalDisplayNouns[ 0 ]\n\t\t\t\t\t: recurringIntervalDisplayNouns[ 1 ]\n\t\t\t);\n\n\t\t\tlabel = recurringIntervalDisplayReplaced;\n\t\t}\n\n\t\tlabelDisplay.innerHTML = label;\n\t}\n}\n\n/**\n * Handles changing the current price option's currency.\n *\n * @param {HTMLElement} priceEl Price container element.\n */\nfunction onChangeCurrency( priceEl ) {\n\tconst { options, selectedIndex } = priceEl.querySelector(\n\t\t'.simpay-price-currency'\n\t);\n\tconst { symbol } = options[ selectedIndex ].dataset;\n\n\tconst currenySymbolEls = priceEl.querySelectorAll(\n\t\t'.simpay-price-currency-symbol'\n\t);\n\n\t_.each(\n\t\tcurrenySymbolEls,\n\t\t( currencySymbolEl ) => ( currencySymbolEl.innerText = symbol )\n\t);\n}\n\n/**\n * Handles displaying the current price's relevant settings when a Price's\n * \"Amount Type\" changes.\n *\n * @param {HTMLElement} priceEl Price container element.\n * @param {HTMLElement} toggle Price type toggle element.\n */\nfunction onToggleAmountType( priceEl, toggle ) {\n\t// Disable current toggles.\n\tconst toggles = priceEl.querySelectorAll(\n\t\t'.simpay-price-amount-type .button'\n\t);\n\n\t_.each( toggles, ( toggle ) =>\n\t\ttoggle.classList.remove( 'button-primary' )\n\t);\n\n\t// Update current toggle and show relevant settings.\n\tconst { amountType } = toggle.dataset;\n\n\tconst recurringSettings = priceEl.querySelector(\n\t\t'.simpay-price-recurring-settings'\n\t);\n\n\ttoggle.classList.add( 'button-primary' );\n\trecurringSettings.style.display =\n\t\t'recurring' === amountType ? 'block' : 'none';\n\n\t// Hide \"optional recur\" setting.\n\tconst canRecurSetting = priceEl.querySelector(\n\t\t'.simpay-price-recurring-amount-toggle'\n\t);\n\n\tconst canRecurToggle = priceEl.querySelector(\n\t\t'.simpay-price-enable-optional-subscription'\n\t);\n\n\tcanRecurSetting.style.display =\n\t\t'recurring' === amountType ? 'none' : 'block';\n\tcanRecurToggle.checked = false;\n\n\t// Update the hidden field to track the amount type.\n\tpriceEl.querySelector( '.simpay-price-amount-type' ).value = amountType;\n}\n\n/**\n * Handles displaying the current price's recurring settings\n * if the \"Can optionally be purchased as a subscription\" setting is checked.\n *\n * @param {HTMLElement} priceEl Price container element.\n * @param {HTMLElement} checkbox Recurring toggle element.\n */\nfunction onToggleCanRecur( priceEl, checkbox ) {\n\tconst recurringSettings = priceEl.querySelector(\n\t\t'.simpay-price-recurring-settings'\n\t);\n\n\trecurringSettings.style.display = checkbox.checked ? 'block' : 'none';\n}\n\n/**\n * Handles displaying the current price's custom amount settings.\n *\n * @param {HTMLElement} priceEl Price container element.\n */\nfunction onToggleCustomAmount( priceEl ) {\n\tconst customAmountSettings = priceEl.querySelector(\n\t\t'.simpay-price-custom-amount'\n\t);\n\n\tcustomAmountSettings.style.display =\n\t\t'none' === customAmountSettings.style.display ? 'block' : 'none';\n}\n\n/**\n * Handles validating the recurring interval. Can not be over one year.\n *\n * @param {HTMLElement} priceEl Price container element.\n */\nfunction onChangeRecurring( priceEl ) {\n\tconst recurringInterval = priceEl.querySelector(\n\t\t'.simpay-price-recurring-interval'\n\t);\n\n\tconst recurringIntervalCount = priceEl.querySelector(\n\t\t'.simpay-price-recurring-interval-count'\n\t);\n\n\tconst recurringIntervalCountValue = parseInt(\n\t\trecurringIntervalCount.value\n\t);\n\n\tconst recurringIntervalValue =\n\t\trecurringInterval.options[ recurringInterval.selectedIndex ].value;\n\n\t// Update the recurring interval pluralization based on the count value.\n\tconst pluralizations = JSON.parse( recurringInterval.dataset.intervals );\n\n\t[ ...recurringInterval.options ].forEach( ( { value }, i ) => {\n\t\trecurringInterval.options[ i ].text =\n\t\t\trecurringIntervalCountValue === 1\n\t\t\t\t? pluralizations[ value ][ 0 ]\n\t\t\t\t: pluralizations[ value ][ 1 ];\n\t} );\n\n\t// Limit each interval to maximum 5 years (imposed by Stripe).\n\tswitch ( recurringIntervalValue ) {\n\t\tcase 'day':\n\t\t\tif ( recurringIntervalCountValue > 1825 ) {\n\t\t\t\trecurringIntervalCount.value = 1825;\n\t\t\t}\n\t\t\tbreak;\n\t\tcase 'week':\n\t\t\tif ( recurringIntervalCountValue > 260 ) {\n\t\t\t\trecurringIntervalCount.value = 260;\n\t\t\t}\n\t\t\tbreak;\n\t\tcase 'month':\n\t\t\tif ( recurringIntervalCountValue > 60 ) {\n\t\t\t\trecurringIntervalCount.value = 60;\n\t\t\t}\n\t\t\tbreak;\n\t\tcase 'year':\n\t\t\tif ( recurringIntervalCountValue > 5 ) {\n\t\t\t\trecurringIntervalCount.value = 5;\n\t\t\t}\n\t\t\tbreak;\n\t}\n}\n\n/**\n * Handles displaying the current price's legacy settings.\n *\n * @param {HTMLElement} priceEl Price container element.\n */\nfunction onToggleLegacySettings( priceEl ) {\n\tconst legacySettingEls = priceEl.querySelectorAll(\n\t\t'.simpay-price-legacy-setting'\n\t);\n\n\t_.each(\n\t\tlegacySettingEls,\n\t\t( legacySettingEl ) =>\n\t\t\t( legacySettingEl.style.display =\n\t\t\t\t'block' === legacySettingEl.style.display ? 'none' : 'block' )\n\t);\n}\n\n/**\n * Handles toggling the current price option as the default selection.\n *\n * @param {HTMLElement} priceEl Price container element.\n */\nfunction onToggleDefault( priceEl ) {\n\tconst allDefaults = document.querySelectorAll( '.simpay-price-default' );\n\n\t_.each( allDefaults, ( defaultEl ) => ( defaultEl.checked = false ) );\n\n\tpriceEl.querySelector( '.simpay-price-default' ).checked = true;\n}\n\n/**\n * Handles remove a price.\n *\n * @param {HTMLElement} priceEl Price container element.\n */\nfunction onRemove( priceEl ) {\n\tpriceEl.remove();\n\tensureDefaultPrice();\n}\n\n/**\n * Handles adding a new price option.\n *\n * @param {HTMLElement} buttonEl \"Add Price\" button.\n */\nfunction onAddPrice( buttonEl ) {\n\tconst { nonce, formId } = buttonEl.dataset;\n\tconst priceListEl = document.getElementById( 'simpay-prices' );\n\n\t// Disable button.\n\tbuttonEl.classList.add( 'disabled' );\n\n\twp.ajax.send( 'simpay_add_price', {\n\t\tdata: {\n\t\t\t_wpnonce: nonce,\n\t\t\tform_id: formId,\n\t\t},\n\t\tsuccess: ( response ) => {\n\t\t\tjQuery( priceListEl ).append( response );\n\n\t\t\t// Rebind events when added.\n\t\t\tbindPriceOptions();\n\t\t\tensureDefaultPrice();\n\n\t\t\t// Reenable button.\n\t\t\tbuttonEl.classList.remove( 'disabled' );\n\t\t},\n\t\terror: ( { message } ) => {\n\t\t\talert( message );\n\n\t\t\t// Reenable button.\n\t\t\tbuttonEl.classList.remove( 'disabled' );\n\t\t},\n\t} );\n}\n\n/**\n * Handles adding an existing (legacy) Stripe Plan.\n *\n * @param {HTMLElement} buttonEl \"Add Plan\" button.\n */\nfunction onAddPlan( buttonEl ) {\n\tconst { nonce, formId } = buttonEl.dataset;\n\tconst priceListEl = document.getElementById( 'simpay-prices' );\n\tconst planIdEl = document.getElementById(\n\t\t'simpay-prices-advanced-plan-id'\n\t);\n\n\tbuttonEl.classList.add( 'disabled' );\n\n\twp.ajax.send( 'simpay_add_plan', {\n\t\tdata: {\n\t\t\t_wpnonce: nonce,\n\t\t\tform_id: formId,\n\t\t\tplan_id: planIdEl.value,\n\t\t},\n\t\tsuccess: ( response ) => {\n\t\t\tjQuery( priceListEl ).append( response );\n\n\t\t\t// Rebind events when added.\n\t\t\tbindPriceOptions();\n\n\t\t\t// Hide advanced settings and clear input.\n\t\t\tdocument.getElementById( 'simpay-prices-advanced' ).style.display =\n\t\t\t\t'none';\n\t\t\tplanIdEl.value = '';\n\n\t\t\t// Reenable button.\n\t\t\tbuttonEl.classList.remove( 'disabled' );\n\t\t},\n\t\terror: ( { message } ) => {\n\t\t\talert( message );\n\n\t\t\t// Reenable button.\n\t\t\tbuttonEl.classList.remove( 'disabled' );\n\t\t},\n\t} );\n}\n\n/**\n * Binds jQuery sortable to price options.\n */\nfunction bindSortablePriceOptions() {\n\t$( '.simpay-prices' ).sortable( {\n\t\titems: '.simpay-field-metabox',\n\t\tcontainment: '#simpay-prices',\n\t\thandle: '.simpay-hndle',\n\t\tplaceholder: 'sortable-placeholder',\n\t\tcursor: 'move',\n\t\tdelay: $( document.body ).hasClass( 'mobile' ) ? 200 : 0,\n\t\tdistance: 2,\n\t\ttolerance: 'pointer',\n\t\tforcePlaceholderSize: true,\n\t\topacity: 0.65,\n\n\t\t// @link https://core.trac.wordpress.org/changeset/35809\n\t\thelper( event, element ) {\n\t\t\t/* `helper: 'clone'` is equivalent to `return element.clone();`\n\t\t\t * Cloning a checked radio and then inserting that clone next to the original\n\t\t\t * radio unchecks the original radio (since only one of the two can be checked).\n\t\t\t * We get around this by renaming the helper's inputs' name attributes so that,\n\t\t\t * when the helper is inserted into the DOM for the sortable, no radios are\n\t\t\t * duplicated, and no original radio gets unchecked.\n\t\t\t */\n\t\t\treturn element\n\t\t\t\t.clone()\n\t\t\t\t.find( ':input' )\n\t\t\t\t.attr( 'name', function ( i, currentName ) {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t'sort_' +\n\t\t\t\t\t\tparseInt( Math.random() * 100000, 10 ).toString() +\n\t\t\t\t\t\t'_' +\n\t\t\t\t\t\tcurrentName\n\t\t\t\t\t);\n\t\t\t\t} )\n\t\t\t\t.end();\n\t\t},\n\t} );\n}\n\n/**\n * Binds events to various elements on each price option.\n */\nfunction bindPriceOptions() {\n\tconst pricesEls = document.querySelectorAll( '.simpay-price' );\n\n\t_.each( pricesEls, ( priceEl ) => {\n\t\tconst amountType = priceEl.querySelector( '.simpay-price-amount-type' )\n\t\t\t.value;\n\n\t\t// Label.\n\t\tconst labelInput = priceEl.querySelector( '.simpay-price-label' );\n\n\t\tlabelInput.addEventListener( 'keyup', () => onChangeLabel( priceEl ) );\n\t\tonChangeLabel( priceEl );\n\n\t\t// Currency symbol.\n\t\tconst currencyToggle = priceEl.querySelector(\n\t\t\t'.simpay-price-currency'\n\t\t);\n\n\t\tcurrencyToggle.addEventListener( 'change', () => {\n\t\t\tonChangeCurrency( priceEl );\n\t\t\tonChangeLabel( priceEl );\n\t\t} );\n\n\t\t// Amount type toggle.\n\t\tconst amountTypeToggles = priceEl.querySelectorAll(\n\t\t\t'.simpay-price-amount-type .button'\n\t\t);\n\n\t\tif ( amountTypeToggles.length > 0 ) {\n\t\t\t_.each( amountTypeToggles, ( amountTypeToggle ) =>\n\t\t\t\tamountTypeToggle.addEventListener( 'click', ( e ) => {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tonToggleAmountType( priceEl, e.target );\n\t\t\t\t\tonChangeLabel( priceEl );\n\t\t\t\t} )\n\t\t\t);\n\t\t}\n\n\t\t// Amount.\n\t\tconst amountInput = priceEl.querySelector( '.simpay-price-amount' );\n\n\t\tamountInput.addEventListener( 'keyup', () => onChangeLabel( priceEl ) );\n\n\t\t// Optional recurring toggle.\n\t\tconst canRecurToggle = priceEl.querySelector(\n\t\t\t'.simpay-price-enable-optional-subscription'\n\t\t);\n\n\t\tif ( canRecurToggle ) {\n\t\t\tcanRecurToggle.addEventListener( 'click', ( { target } ) => {\n\t\t\t\tonToggleCanRecur( priceEl, target );\n\t\t\t\tonChangeLabel( priceEl );\n\t\t\t} );\n\n\t\t\tif ( 'recurring' !== amountType ) {\n\t\t\t\tonToggleCanRecur( priceEl, canRecurToggle );\n\t\t\t}\n\t\t}\n\n\t\t// Custom amount toggle.\n\t\tconst customAmountToggle = priceEl.querySelector(\n\t\t\t'.simpay-price-enable-custom-amount'\n\t\t);\n\n\t\tcustomAmountToggle.addEventListener( 'click', () => {\n\t\t\tonToggleCustomAmount( priceEl );\n\t\t\tonChangeLabel( priceEl );\n\t\t} );\n\n\t\t// Recurring interval.\n\t\tconst recurringInterval = priceEl.querySelector(\n\t\t\t'.simpay-price-recurring-interval'\n\t\t);\n\n\t\trecurringInterval.addEventListener( 'change', () => {\n\t\t\tonChangeLabel( priceEl );\n\t\t\tonChangeRecurring( priceEl );\n\t\t} );\n\n\t\t// Recurring interval count.\n\t\tconst recurringIntervalCount = priceEl.querySelector(\n\t\t\t'.simpay-price-recurring-interval-count'\n\t\t);\n\n\t\trecurringIntervalCount.addEventListener( 'keyup', () => {\n\t\t\tonChangeRecurring( priceEl );\n\t\t\tonChangeLabel( priceEl );\n\t\t} );\n\t\trecurringIntervalCount.addEventListener( 'change', () => {\n\t\t\tonChangeRecurring( priceEl );\n\t\t\tonChangeLabel( priceEl );\n\t\t} );\n\n\t\t// Legacy settings toggle.\n\t\tconst legacySettingsToggle = priceEl.querySelector(\n\t\t\t'.simpay-price-legacy-setting-toggle'\n\t\t);\n\n\t\tif ( legacySettingsToggle ) {\n\t\t\tlegacySettingsToggle.addEventListener( 'click', ( e ) => {\n\t\t\t\te.preventDefault();\n\t\t\t\tonToggleLegacySettings( priceEl );\n\t\t\t} );\n\t\t}\n\n\t\t// Default checkbox.\n\t\tconst defaultToggle = priceEl.querySelector( '.simpay-price-default' );\n\n\t\tdefaultToggle.addEventListener( 'change', () =>\n\t\t\tonToggleDefault( priceEl )\n\t\t);\n\n\t\t// Remove.\n\t\tconst removeToggle = priceEl.querySelector( '.simpay-price-remove' );\n\n\t\tremoveToggle.addEventListener( 'click', ( e ) => {\n\t\t\te.preventDefault();\n\t\t\tonRemove( priceEl );\n\t\t} );\n\t} );\n}\n\n/**\n * Binds events to \"Advanced\" options.\n */\nfunction bindAdvancedOptions() {\n\tconst toggleAdvancedEl = document.getElementById(\n\t\t'simpay-prices-advanced-toggle'\n\t);\n\n\tconst advancedEl = document.getElementById( 'simpay-prices-advanced' );\n\n\tif ( ! toggleAdvancedEl || ! advancedEl ) {\n\t\treturn;\n\t}\n\n\ttoggleAdvancedEl.addEventListener( 'click', function ( e ) {\n\t\te.preventDefault();\n\n\t\tadvancedEl.style.display =\n\t\t\t'block' == advancedEl.style.display ? 'none' : 'block';\n\t} );\n}\n\n/**\n * Binds events for adding a new Price.\n */\nfunction addPrice() {\n\tconst addButtonEl = document.getElementById( 'simpay-add-price' );\n\n\tif ( ! addButtonEl ) {\n\t\treturn;\n\t}\n\n\taddButtonEl.addEventListener( 'click', ( e ) => {\n\t\te.preventDefault();\n\t\tonAddPrice( addButtonEl );\n\t} );\n}\n\n/**\n * Binds events for adding an existing (legacy) Stripe Plan.\n */\nfunction addPlan() {\n\tconst addButtonEl = document.getElementById( 'simpay-prices-advanced-add' );\n\n\tif ( ! addButtonEl ) {\n\t\treturn;\n\t}\n\n\taddButtonEl.addEventListener( 'click', ( e ) => {\n\t\te.preventDefault();\n\t\tonAddPlan( addButtonEl );\n\t} );\n}\n\n/**\n * Shows or hides \"Remove\" toggles based on the current amount of prices.\n */\nfunction ensureDefaultPrice() {\n\tconst prices = document.querySelectorAll( '.simpay-price' );\n\n\tif ( ! document.querySelector( '.simpay-price-default:checked' ) ) {\n\t\tprices[ 0 ].querySelector( '.simpay-price-default' ).checked = true;\n\t}\n}\n\n/**\n * DOM ready.\n */\ndomReady( () => {\n\tbindSortablePriceOptions();\n\tbindPriceOptions();\n\tbindAdvancedOptions();\n\taddPlan();\n\taddPrice();\n} );\n","/**\n * WordPress dependencies\n */\nimport domReady from '@wordpress/dom-ready';\n\n/**\n * DOM ready.\n */\ndomReady( () => {\n\tconst feedbackNoticeEl = document.querySelector(\n\t\t'.simpay-recaptcha-feedback'\n\t);\n\n\tif ( ! feedbackNoticeEl ) {\n\t\treturn;\n\t}\n\n\tconst { siteKey, i18n } = simpayGoogleRecaptcha;\n\n\tif ( '' === siteKey ) {\n\t\treturn;\n\t}\n\n\t/**\n\t * Show the error notice.\n\t */\n\tfunction onError() {\n\t\tfeedbackNoticeEl.style.display = 'block';\n\t\tfeedbackNoticeEl.classList.add( 'notice-error' );\n\t\tfeedbackNoticeEl.querySelector( 'p' ).innerText = i18n.invalid;\n\t}\n\n\tgrecaptcha.ready( () => {\n\t\tconst badge = document.querySelector( '.grecaptcha-badge' );\n\n\t\tif ( badge ) {\n\t\t\tbadge.style.display = 'none';\n\t\t}\n\n\t\ttry {\n\t\t\tgrecaptcha\n\t\t\t\t.execute( siteKey, {\n\t\t\t\t\taction: `simple_pay_admin_test`,\n\t\t\t\t} )\n\t\t\t\t.then( ( token ) => {\n\t\t\t\t\twp.ajax.send( 'simpay_validate_recaptcha_source', {\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\ttoken,\n\t\t\t\t\t\t\trecaptcha_action: 'simple_pay_admin_test',\n\t\t\t\t\t\t},\n\t\t\t\t\t\terror: onError,\n\t\t\t\t\t} );\n\t\t\t\t} )\n\t\t\t\t.catch( onError );\n\t\t} catch ( error ) {\n\t\t\tonError();\n\t\t}\n\t} );\n} );\n","/* global jQuery, simpayAdmin */\n\n/**\n * WordPress dependencies\n */\nimport domReady from '@wordpress/dom-ready';\n\n/**\n * Toggle fields based on current mode.\n *\n * @param {string} newMode The new mode.\n * @param {string} initialMode The initial mode.\n */\nexport function toggleStripeConnectNotice( newMode, initialMode ) {\n\tconst notice = document.getElementById( 'simpay-test-mode-toggle-notice' );\n\n\t// Only show a notice when the mode changes.\n\tif ( newMode === initialMode ) {\n\t\tnotice.style.display = 'none';\n\t\treturn;\n\t}\n\n\tconst statusText = document.getElementById( 'simpay-toggle-notice-status' );\n\tconst statusLink = document.getElementById(\n\t\t'simpay-toggle-notice-status-link'\n\t);\n\n\tnotice.style.display = 'block';\n\n\tif ( ! statusText || ! statusLink ) {\n\t\treturn;\n\t}\n\n\tstatusText.innerHTML =\n\t\t'<strong>' + statusText.dataset[ newMode ] + '</strong>';\n\tstatusLink.href = statusLink.dataset[ newMode ];\n}\n\n/**\n * Outputs connected Stripe account information.\n */\nfunction accountInfo() {\n\tconst containerEl = document.getElementById( 'simpay-stripe-account-info' );\n\n\tif ( ! containerEl ) {\n\t\treturn;\n\t}\n\n\twp.ajax.send( 'simpay_stripe_connect_account_information', {\n\t\tdata: {\n\t\t\tnonce: containerEl.dataset.nonce,\n\t\t\taccount_id: containerEl.dataset.accountId,\n\t\t},\n\t\tsuccess: ( response ) => {\n\t\t\tcontainerEl.querySelector( 'p' ).innerHTML = response.message;\n\t\t\tcontainerEl.style.display = 'block';\n\n\t\t\tif (\n\t\t\t\t'simpay-stripe-activated-account-actions' === response.actions\n\t\t\t) {\n\t\t\t\tcontainerEl.classList.add( 'notice-info' );\n\t\t\t} else {\n\t\t\t\tcontainerEl.classList.add( 'notice-warning' );\n\t\t\t}\n\n\t\t\tconst actionsEl = document.getElementById( response.actions );\n\n\t\t\tif ( actionsEl ) {\n\t\t\t\tactionsEl.style.display = 'block';\n\t\t\t}\n\n\t\t\tdisconnectLink();\n\t\t},\n\t\terror: ( response ) => {\n\t\t\tcontainerEl.querySelector( 'p' ).innerHTML = response.message;\n\t\t\tcontainerEl.style.display = 'block';\n\t\t\tcontainerEl.classList.add( 'notice-error' );\n\n\t\t\tconst actionsEl = document.getElementById( response.actions );\n\n\t\t\tif ( actionsEl ) {\n\t\t\t\tactionsEl.style.display = 'block';\n\t\t\t\tdisconnectLink();\n\t\t\t}\n\t\t},\n\t} );\n}\n\n/**\n * Handles the Stripe Disconnect link and confirmation.\n */\nfunction disconnectLink() {\n\tconst disconnectLinkEls = document.querySelectorAll(\n\t\t'.simpay-disconnect-link'\n\t);\n\n\tif ( ! disconnectLinkEls ) {\n\t\treturn;\n\t}\n\n\tconst { i18n } = simpayAdmin;\n\tconst { disconnectConfirm, disconnectCancel } = i18n;\n\n\tdisconnectLinkEls.forEach( function ( el ) {\n\t\tel.addEventListener( 'click', ( event ) => {\n\t\t\tevent.preventDefault();\n\n\t\t\tjQuery( '.simpay-disconnect-confirm' ).dialog( {\n\t\t\t\tresizable: false,\n\t\t\t\theight: 'auto',\n\t\t\t\twidth: 400,\n\t\t\t\tmodal: true,\n\t\t\t\tdraggable: false,\n\t\t\t\topen() {\n\t\t\t\t\tjQuery( '.ui-dialog-buttonset .ui-button' )\n\t\t\t\t\t\t.removeClass( 'ui-button' )\n\t\t\t\t\t\t.last()\n\t\t\t\t\t\t.css( {\n\t\t\t\t\t\t\tmarginLeft: '10px',\n\t\t\t\t\t\t} )\n\t\t\t\t\t\t.focus();\n\t\t\t\t},\n\t\t\t\tbuttons: [\n\t\t\t\t\t{\n\t\t\t\t\t\ttext: disconnectCancel,\n\t\t\t\t\t\tclick() {\n\t\t\t\t\t\t\tjQuery( this ).dialog( 'close' );\n\t\t\t\t\t\t},\n\t\t\t\t\t\tclass: 'button button-secondary',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttext: disconnectConfirm,\n\t\t\t\t\t\tclick() {\n\t\t\t\t\t\t\twindow.location.href = el.href;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tclass: 'button button-primary',\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t} );\n\t\t} );\n\t} );\n}\n\n/**\n * DOM ready.\n */\ndomReady( () => {\n\taccountInfo();\n} );\n","/* global _ */\n\n/**\n * WordPress dependencies\n */\nimport domReady from '@wordpress/dom-ready';\n\n// Need to wait for the DOM because the script is not enqueued at the end of the page.\n// @todo Investigate enqueing admin.js in the footer.\ndomReady( () => {\n\tconst { hooks } = window.wpsp;\n\tconst radioEls = document.querySelectorAll(\n\t\t'[name=\"simpay_settings[test_mode]\"]'\n\t);\n\n\tif ( 0 === radioEls.length ) {\n\t\treturn;\n\t}\n\n\tconst selectedRadioEl = document.querySelector(\n\t\t'[name=\"simpay_settings[test_mode]\"]:checked'\n\t);\n\n\tconst currentMode = 'enabled' === selectedRadioEl.value ? 'test' : 'live';\n\n\thooks.doAction( 'settings.toggleTestMode', currentMode, currentMode );\n\n\t// Update when the input changes.\n\t_.each( radioEls, ( radio ) =>\n\t\tradio.addEventListener( 'change', ( e ) => {\n\t\t\tconst newMode = 'enabled' === e.target.value ? 'test' : 'live';\n\n\t\t\thooks.doAction( 'settings.toggleTestMode', newMode, currentMode );\n\t\t} )\n\t);\n} );\n","/* global simpayAdminSettingToggles */\n\n/**\n * WordPress dependencies\n */\nimport domReady from '@wordpress/dom-ready';\n\n/**\n * @typedef {Object} Setting\n *\n * @property {Object} settingObj Setting object.\n * @property {string} settingObj.id Setting ID.\n * @property {mixed} settingObj.value Value the setting should equal to trigger the\n *                                 toggles.\n * @property {string[]} settingObj.toggles Setting IDs to toggle.\n */\n\n/**\n * Typedef {Object} SettingInput\n *\n * @param {string} currentValue Current value.\n * @param {HTMLElement} setting Setting input.\n */\n\nconst SETTING_TOGGLES = simpayAdminSettingToggles || [];\n\n/**\n * Retrieves the setting input (or select) and the currnet value.\n *\n * @param {Setting} settingObj Setting object.\n * @return {SettingInput}\n */\nfunction getSetting( settingObj ) {\n\tconst { id: settingId, value: settingValue, toggles } = settingObj;\n\n\t// Settting row <tr>.\n\tconst settingRowEl = document.querySelector(\n\t\t`.simpay-settings-${ settingId }`\n\t);\n\n\tif ( ! settingRowEl ) {\n\t\treturn {};\n\t}\n\n\t// Setting input.\n\tlet setting = settingRowEl.querySelector( 'input' );\n\n\tif ( ! setting ) {\n\t\tsetting = settingRowEl.querySelector( 'select' );\n\t}\n\n\t// Setting current value.\n\tlet currentValue = setting.value;\n\n\tif ( 'checkbox' === setting.type ) {\n\t\tcurrentValue = true === setting.checked ? 'yes' : 'no';\n\t}\n\n\treturn {\n\t\tsetting,\n\t\tcurrentValue,\n\t};\n}\n\n/**\n * Toggle setting row visibility based on the setting input's current value.\n *\n * @param {Setting} settingObj Setting object.\n */\nfunction toggleSettings( settingObj ) {\n\tconst { id, value: settingValue, toggles } = settingObj;\n\tconst { setting, currentValue } = getSetting( settingObj );\n\n\t// Don't adjust dependent settings if this one is already hidden.\n\tconst currentRow = document.querySelector( `.simpay-settings-${ id }` );\n\n\tif ( 'none' === currentRow.style.display ) {\n\t\treturn;\n\t}\n\n\t// Toggle setting row visibility.\n\tconst toToggleRowEls = toggles.map( ( setting ) => {\n\t\treturn document.querySelector( `.simpay-settings-${ setting }` );\n\t} );\n\n\ttoToggleRowEls.forEach( ( el ) => {\n\t\tif ( ! el ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Show row if the current value of the setting matches expectations.\n\t\tel.style.display = currentValue === settingValue ? 'table-row' : 'none';\n\t} );\n\n\t// Run through again with the dependent settings to ensure the current value\n\t// is used to set the visibility.\n\ttoggles.forEach( ( settingId ) => {\n\t\tconst currentSettingObj = _.find( SETTING_TOGGLES, {\n\t\t\tid: settingId,\n\t\t} );\n\n\t\tif ( currentSettingObj ) {\n\t\t\ttoggleSettings( currentSettingObj );\n\t\t}\n\t} );\n}\n\n/**\n * DOM ready.\n */\ndomReady( () => {\n\t// Setup toggles.\n\tSETTING_TOGGLES.forEach( ( settingObj ) => {\n\t\t// Toggle on page load.\n\t\ttoggleSettings( settingObj );\n\n\t\t// Bind to setting input changes.\n\t\tconst { setting } = getSetting( settingObj );\n\t\tsetting.addEventListener( 'change', () =>\n\t\t\ttoggleSettings( settingObj )\n\t\t);\n\t} );\n} );\n","/* global ClipboardJS */\n\n/**\n * WordPress dependencies\n */\nimport domReady from '@wordpress/dom-ready';\n\n/**\n * Uses the ClipboardJS library to copy the shortcode to the clipboard.\n */\nfunction copyToClipboard() {\n\tconst clipboard = new ClipboardJS( '.simpay-copy-button' );\n\n\tclipboard.on( 'success', function ( e ) {\n\t\tconst buttonEl = e.trigger;\n\t\tconst { copied: copiedText } = buttonEl.dataset;\n\t\tconst originalText = buttonEl.innerHTML;\n\n\t\t// Show success visual feedback.\n\t\tclearTimeout( successTimeout );\n\t\tbuttonEl.innerHTML = copiedText;\n\n\t\tif ( buttonEl.classList.contains( 'button-secondary' ) ) {\n\t\t\tbuttonEl.style.color = 'green';\n\t\t\tbuttonEl.style.borderColor = 'green';\n\t\t}\n\n\t\te.clearSelection();\n\n\t\t// Hide success visual feedback after 3 seconds since last success.\n\t\tconst successTimeout = setTimeout( function () {\n\t\t\tbuttonEl.innerHTML = originalText;\n\n\t\t\tif ( buttonEl.classList.contains( 'button-secondary' ) ) {\n\t\t\t\tbuttonEl.style.color = '';\n\t\t\t\tbuttonEl.style.borderColor = '';\n\t\t\t}\n\n\t\t\t// Remove the visually hidden textarea so that it isn't perceived by assistive technologies.\n\t\t\tif (\n\t\t\t\tclipboard.clipboardAction.fakeElem &&\n\t\t\t\tclipboard.clipboardAction.removeFake\n\t\t\t) {\n\t\t\t\tclipboard.clipboardAction.removeFake();\n\t\t\t}\n\t\t}, 3000 );\n\n\t\t// Handle success audible feedback.\n\t\twp.a11y.speak( copiedText );\n\t} );\n}\n\ndomReady( copyToClipboard );\n","/**\n * WordPress dependencies\n */\nimport { createHooks } from '@wordpress/hooks';\n\nconst defaultHooks = createHooks();\nconst { addAction, addFilter, doAction, applyFilters } = defaultHooks;\n\nexport { addAction, addFilter, doAction, applyFilters };\nexport default defaultHooks;\n","module.exports = jQuery;"],"sourceRoot":""}