!function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=79)}([function(e,t){e.exports=window.wp.element},,function(e,t){e.exports=window.wp.i18n},function(e,t){e.exports=window.wp.components},,,function(e,t,r){var n=r(26),a=r(27),o=r(21),l=r(28);e.exports=function(e,t){return n(e)||a(e,t)||o(e,t)||l()},e.exports.__esModule=!0,e.exports.default=e.exports},,,function(e,t){e.exports=window.wp.primitives},function(e,t){e.exports=window.wp.url},,function(e,t){e.exports=window.lodash},,function(e,t,r){var n;!function(){"use strict";var r={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)){if(n.length){var l=a.apply(null,n);l&&e.push(l)}}else if("object"===o)if(n.toString===Object.prototype.toString)for(var c in n)r.call(n,c)&&n[c]&&e.push(c);else e.push(n.toString())}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(n=function(){return a}.apply(t,[]))||(e.exports=n)}()},,,,,,function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){var n=r(20);e.exports=function(e,t){if(e){if("string"==typeof e)return n(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=window.wp.compose},,,,function(e,t){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,l,c=[],i=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;i=!1}else for(;!(i=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);i=!0);}catch(e){s=!0,a=e}finally{try{if(!i&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(s)throw a}}return c}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){var n=r(34),a=r(35),o=r(21),l=r(36);e.exports=function(e){return n(e)||a(e)||o(e)||l()},e.exports.__esModule=!0,e.exports.default=e.exports},,,,,function(e,t,r){var n=r(20);e.exports=function(e){if(Array.isArray(e))return n(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},,,function(e,t){e.exports=window.wp.a11y},,,,,function(e,t,r){"use strict";var n=r(0);t.a=function(e){let{icon:t,size:r=24,...a}=e;return Object(n.cloneElement)(t,{width:r,height:r,...a})}},,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";var n=r(0),a=r(9);const o=Object(n.createElement)(a.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(n.createElement)(a.Path,{d:"M16.7 7.1l-6.3 8.5-3.3-2.5-.9 1.2 4.5 3.4L17.9 8z"}));t.a=o},,,,,,,,,,,,,,,function(e,t,r){"use strict";r.r(t);var n=r(6),a=r.n(n),o=r(0),l=r(3),c=r(12),i=r(2),s=r(10),u=simpayFormBuilderTemplateExplorer,p=u.suggestUrl,m=u.addNewUrl,d=u.licenseLevel,f=u.templates,b=Object(s.addQueryArgs)(m,{"simpay-template":"lite"===d?Object(c.find)(f,{slug:"payment-button"}).id:Object(c.find)(f,{slug:"payment-form"}).id}),g="simpay-form-template-explorer-header",y="simpay_form_templates"===Object(s.getQueryArg)(window.location.href,"page"),j=function(){return Object(o.createElement)("div",{className:g},Object(o.createElement)("h2",{className:"".concat(g,"__title")},y?Object(i.__)("Get a Head Start With Our Pre-Made Form Templates","stripe"):Object(i.__)("Select a template","stripe")),Object(o.createElement)("p",{className:"".concat(g,"__subtitle")},Object(o.createInterpolateElement)(Object(i.__)("To speed up the process you can select from one of our pre-made templates or start with a <blank>basic form</blank>. Have a suggestion for a new template? <suggest>We'd love to hear it</suggest>!","stripe"),{blank:Object(o.createElement)("a",{href:b}),suggest:Object(o.createElement)("a",{href:p,target:"_blank",rel:"noopener noreferrer"})})))},O=r(14),_=r.n(O),v="simpay-form-template-explorer-main__sidebar";function h(e){var t=e.selectedCategory,r=e.templateCategories,n=e.onClickCategory;return Object(o.createElement)(l.NavigableMenu,{orientation:"vertical",className:"".concat(v,"-categories")},Object.keys(r).map((function(e){var a=_()("category-".concat(e),"".concat(v,"-categories_category"));return Object(o.createElement)(l.Button,{key:e,label:r[e],className:a,isPressed:t===e,onClick:function(){n(e)}},r[e])})))}function E(e){var t=e.filterValue,r=e.setFilterValue;return Object(o.createElement)("div",{className:"".concat(v,"-search")},Object(o.createElement)(l.SearchControl,{onChange:r,value:t,label:Object(i.__)("Search for templates","stripe"),placeholder:Object(i.__)("Search","stripe")}))}var x=function(e){var t=e.selectedCategory,r=e.templateCategories,n=e.onClickCategory,a=e.filterValue,l=e.setFilterValue;return Object(o.createElement)("div",{className:v},Object(o.createElement)(E,{filterValue:a,setFilterValue:l}),!a&&Object(o.createElement)(h,{selectedCategory:t,templateCategories:r,onClickCategory:n}))},w=r(22),C=r(39),S=r(44),k=r(9),N=Object(o.createElement)(k.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Object(o.createElement)(k.Path,{d:"M8 5C8 3.34315 9.34315 2 11 2H13C14.6569 2 16 3.34315 16 5V9H18C19.2624 9 20 9.9804 20 11V19C20 20.0196 19.2624 21 18 21H6C4.73763 21 4 20.0196 4 19V11C4 9.9804 4.73763 9 6 9H8V5ZM9.5 9H14.5V5C14.5 4.17157 13.8284 3.5 13 3.5H11C10.1716 3.5 9.5 4.17157 9.5 5V9Z"})),M=r(64),P=simpayFormBuilderTemplateExplorer,V=P.alreadyPurchasedUrl,A=P.licenseLevel,L=P.upgradeUrl,U="simpay-form-template-explorer-upgrade",B=function(e){var t=e.template,r=e.setIsShowingUpgradeModal;return Object(o.createElement)(l.Modal,{title:Object(i.__)("Upgrade Required","stripe"),onRequestClose:function(){return r(!1)},className:U},Object(o.createElement)("div",{className:"".concat(U,"__content")},Object(o.createElement)(S.a,{icon:N,size:"48px"}),Object(o.createElement)("h3",{className:"".concat(U,"__title")},Object(i.sprintf)(/* translators: %s Template name */
Object(i.__)('Unlock the "%s" Template',"stripe"),t.name)),Object(o.createElement)("p",{className:"".concat(U,"__description")},Object(o.createInterpolateElement)(Object(i.sprintf)(/* translators: %$ss Template name. %2$s Minimum license level. */
Object(i.__)('We\'re sorry, the "%1$s" template is not available on your plan. Please upgrade to the <strong>%2$s</strong> plan or higher to unlock this and other awesome features.',"stripe"),t.name,Object(c.upperFirst)(t.license[0])),{strong:Object(o.createElement)("strong",null)})),Object(o.createElement)(l.Button,{isPrimary:!0,variant:"primary",href:Object(s.addQueryArgs)(L,{utm_content:t.name}),target:"_blank",rel:"noopener noreferrer"},"lite"===A?Object(i.__)("Upgrade to Pro","stripe"):Object(i.__)("See Upgrade Options","stripe")),Object(o.createElement)("a",{href:V,target:"_blank",rel:"noopener noreferrer",className:"".concat(U,"__purchased")},Object(i.__)("Already purchased?","stripe")),Object(o.createElement)("p",{className:"".concat(U,"__discount")},Object(o.createElement)(S.a,{icon:M.a}),"lite"===A?Object(o.createInterpolateElement)(Object(i.__)("<strong>Bonus:</strong> WP Simple Pay Lite users get <highlight>50% off</highlight> regular price, automatically applied at checkout. <upgrade>Upgrade to Pro →</upgrade>","stripe"),{strong:Object(o.createElement)("strong",null),highlight:Object(o.createElement)("u",null),upgrade:Object(o.createElement)("a",{href:Object(s.addQueryArgs)(L,{utm_content:t.name}),target:"_blank",rel:"noopener noreferrer"})}):Object(o.createInterpolateElement)(Object(i.__)("<strong>Bonus:</strong> WP Simple Pay Pro users get <highlight>50% off</highlight> upgrade pricing, automatically applied at checkout. <upgrade>See Upgrade Options →</upgrade>","stripe"),{strong:Object(o.createElement)("strong",null),highlight:Object(o.createElement)("u",null),upgrade:Object(o.createElement)("a",{href:Object(s.addQueryArgs)(L,{utm_content:t.name}),target:"_blank",rel:"noopener noreferrer"})}))))},F=simpayFormBuilderTemplateExplorer,T=F.licenseLevel,I=F.addNewUrl,H=F.isLite,W="simpay-form-template-explorer-main__content",z=["payment-button","donate-button","payment-form","product-installment-plan-form","product-purchse-form","product-subscription-form","product-subscription-form-coupon","recurring-service-setup-fee-form","recurring-service-trial-period-form","recurring-services-form","alipay-payment-button","ideal-payment-button","przelewy24-payment-button"],Q=function(e){var t=e.template,r=Object(o.useState)(!1),n=a()(r,2),c=n[0],u=n[1],p=!t.license.includes(T),m=Object(s.addQueryArgs)(I,{"simpay-template":t.id}),d=Object(s.addQueryArgs)("https://wpsimplepay.com/templates/".concat(t.slug,"/"),{utm_source:"WordPress",utm_campaign:"1"===H?"lite-plugin":"pro-plugin",utm_medium:"template-explorer",utm_content:t.name});return Object(o.createElement)(o.Fragment,null,c&&Object(o.createElement)(B,{template:t,setIsShowingUpgradeModal:u}),Object(o.createElement)("div",{key:t.id,className:"".concat(W,"-list-item")},p&&Object(o.createElement)("div",{className:"".concat(W,"-list-item__badge")},Object(o.createElement)(S.a,{icon:N,size:"16px"})),Object(o.createElement)("div",{id:t.id,className:"".concat(W,"-list-item__name ").concat(p?"".concat(W,"-list-item__name--is-locked"):"")},t.name),Object(o.createElement)("div",{className:"".concat(W,"-list-item__description")},t.description),Object(o.createElement)("div",{className:"".concat(W,"-list-item__actions")},Object(o.createElement)(l.Button,{isPrimary:!0,variant:"primary",href:p?void 0:m,onClick:function(){return p?u(!0):null}},Object(i.__)("Use Template","stripe")),!z.includes(t.slug)&&Object(o.createElement)(l.Button,{isSecondary:!0,variant:"secondary",href:d,style:{marginLeft:"10px"},target:"_blank"},Object(i.__)("View Demo","stripe")))))},G=Object(o.createElement)(k.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Object(o.createElement)(k.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M6.68822 16.625L5.5 17.8145L5.5 5.5L18.5 5.5L18.5 16.625L6.68822 16.625ZM7.31 18.125L19 18.125C19.5523 18.125 20 17.6773 20 17.125L20 5C20 4.44772 19.5523 4 19 4H5C4.44772 4 4 4.44772 4 5V19.5247C4 19.8173 4.16123 20.086 4.41935 20.2237C4.72711 20.3878 5.10601 20.3313 5.35252 20.0845L7.31 18.125ZM16 9.99997H8V8.49997H16V9.99997ZM8 14H13V12.5H8V14Z"})),Z=simpayFormBuilderTemplateExplorer.suggestUrl,R=function(){return Object(o.createElement)("div",{className:"".concat("simpay-form-template-explorer-main__content","-suggest")},Object(o.createElement)("div",{style:{flexGrow:0}},Object(o.createElement)(S.a,{icon:G,size:"42px"})),Object(o.createElement)("div",null,Object(o.createElement)("h4",null,Object(i.__)("We need your help!","stripe")),Object(o.createElement)("p",null,Object(o.createInterpolateElement)(Object(i.__)("We're constantly building more pre-made payment form templates to get you up and running even faster. If you have ideas for future templates, please let us know!","stripe"),{suggest:Object(o.createElement)("a",{href:Z,target:"_blank",rel:"noopener noreferrer"})})),Object(o.createElement)(l.Button,{isSecondary:!0,variant:"secondary",isLink:!0,href:Z,target:"_blank"},Object(i.__)("Suggest a Template","stripe"))))},q=simpayFormBuilderTemplateExplorer,D=q.isLite,$=q.upgradeUrl,K=function(){return Object(o.createElement)("div",{className:"".concat("simpay-form-template-explorer-main__content","-upgrade")},Object(o.createElement)("div",null,Object(o.createElement)("h4",null,Object(i.__)("Get Access to All of Our Pre-Made Payment Form Templates","stripe")),Object(o.createElement)("p",null,Object(i.__)("Never start from scratch again! Upgrade to gain access to every payment form template we make and unlock powerful new features.","stripe"))),Object(o.createElement)(l.Button,{isSecondary:!0,variant:"primary",isLink:!0,size:"large",href:$,target:"_blank"},D?Object(i.__)("Upgrade to Pro","stripe"):Object(i.__)("Upgrade Now","stripe")))},J=r(29),X=r.n(J),Y=function(e){return e.name||""},ee=function(e){return e.description||""},te=function(e){return e.keywords||[]},re=function(e){return e.category};function ne(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(e=(e=Object(c.deburr)(e)).replace(/^\//,"")).toLowerCase()}var ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Object(c.words)(ne(e))},oe=function(e,t){return Object(c.differenceWith)(e,ae(t),(function(e,t){return t.includes(e)}))};function le(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.getName,a=void 0===n?Y:n,o=r.getDescription,l=void 0===o?ee:o,i=r.getKeywords,s=void 0===i?te:i,u=r.getCategory,p=void 0===u?re:u,m=a(e),d=l(e),f=s(e),b=p(e),g=ne(t),y=ne(m),j=0;if(g===y)j+=30;else if(y.startsWith(g))j+=20;else{var O=[m,d].concat(X()(f),[b]).join(" "),_=Object(c.words)(g),v=oe(_,O);0===v.length&&(j+=10)}return j}var ce=simpayFormBuilderTemplateExplorer,ie=ce.suggestUrl,se=ce.licenseLevel,ue=function(e){var t=e.filterValue,r=e.selectedCategory,n=e.templates,l=Object(w.useDebounce)(C.speak,500),s=Object(o.useMemo)((function(){var e=n;return t?e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=ae(t);if(0===n.length)return e;var o=e.map((function(e){return[e,le(e,t,r)]})).filter((function(e){return a()(e,2)[1]>0}));return o.sort((function(e,t){var r=a()(e,2)[1];return a()(t,2)[1]-r})),o.map((function(e){return a()(e,1)[0]}))}(n,t):""!==r&&(e=n.filter((function(e){return e.categories.includes(r)}))),Object(c.sortBy)(e,(function(e){return!e.license.includes(se)}))}),[t,r,n]);Object(o.useEffect)((function(){if(t){var e=s.length,r=Object(i.sprintf)(/* translators: %d: number of results. */
Object(i._n)("%d result found.","%d results found.",e,"stripe"),e);l(r)}}),[t,l]);var u=!(null==s||!s.length),p=_()("simpay-form-template-explorer-main__content",{"is-empty":!u});return Object(o.createElement)("div",{className:p},!u&&Object(o.createElement)("p",null,Object(o.createInterpolateElement)(Object(i.__)("No results found. Have a suggestion for a new template? <suggest>We'd love to hear it</suggest>!","stripe"),{suggest:Object(o.createElement)("a",{href:ie,target:"_blank",rel:"noopener noreferrer"})})),u&&Object(o.createElement)(o.Fragment,null,s.map((function(e,r){var n=Object(o.createElement)(Q,{key:e.slug,template:e});return""===t&&["lite","personal","plus"].includes(se)&&5===r?Object(o.createElement)(o.Fragment,{key:"upgrade-frag"},n,Object(o.createElement)(K,null)):n})),Object(o.createElement)(R,null)))},pe=simpayFormBuilderTemplateExplorer,me=pe.hasNew,de=pe.templates,fe=pe.categories;Object(o.render)(Object(o.createElement)((function(){var e=Object(o.useState)(""),t=a()(e,2),r=t[0],n=t[1],c=Object(o.useState)(me?"new":""),i=a()(c,2),s=i[0],u=i[1];return Object(o.useEffect)((function(){document.querySelector("body").classList.add("simpay-template-explorer-open")}),[]),Object(o.createElement)(l.SlotFillProvider,null,Object(o.createElement)("div",{className:"simpay-form-template-explorer"},Object(o.createElement)(j,null),Object(o.createElement)("div",{className:"".concat("simpay-form-template-explorer","-main")},Object(o.createElement)(x,{selectedCategory:s,templateCategories:fe,onClickCategory:u,filterValue:r,setFilterValue:function(e){n(e),u("")}}),Object(o.createElement)(ue,{templates:de,templateCategories:fe,selectedCategory:s,filterValue:r}))),Object(o.createElement)(l.Popover.Slot,null))}),null),document.getElementById("simpay-form-template-explorer"))}]);