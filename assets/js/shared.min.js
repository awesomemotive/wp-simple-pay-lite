/*! WP Simple Pay Pro 3 - 3.6.5
 * https://wpsimplepay.com/
 * Copyright (c) Sandhills Development, LLC 2019
 * Licensed GPLv2+ */

var spShared={};!function(e){"use strict";spShared={init:function(){e(document.body).find(".simpay-amount-input").on("blur.validateAndUpdateAmount",function(n){spShared.validateAndUpdateAmountInput(e(this))})},unformatCurrency:function(n){return Math.abs(accounting.unformat(n,spGeneral.strings.decimalSeparator))},formatCurrency:function(n,e){var a,r="%s%v";if(e=e||!1)switch(spGeneral.strings.currencyPosition){case"left_space":r="%s %v";break;case"right":r="%v%s";break;case"right_space":r="%v %s"}return a={symbol:e?spGeneral.strings.currencySymbol:"",decimal:spGeneral.strings.decimalSeparator,thousand:spGeneral.strings.thousandSeparator,precision:spGeneral.integers.decimalPlaces,format:r},accounting.formatMoney(n,a)},convertToDollars:function(n){return spGeneral.booleans.isZeroDecimal||(n=accounting.toFixed(n/100,2)),spShared.unformatCurrency(n)},convertToCents:function(n){return spGeneral.booleans.isZeroDecimal||(n=Number(accounting.toFixed(100*n,0))),n},validateAndUpdateAmountInput:function(n){var e=n.val(),a=Math.abs(spGeneral.integers.minAmount);e=spShared.unformatCurrency(e),n.hasClass("simpay-allow-blank-amount")&&0===e?n.val(""):(n.hasClass("simpay-minimum-amount-required")&&e<a&&(e=a),e=spShared.formatCurrency(e,!1),"number"!==n[0].type&&n.val(e))},debugLog:function(n,e){"undefined"!=typeof spGeneral&&!0===spGeneral.booleans.scriptDebug&&console.log(n,e)}},e(document).ready(function(n){spShared.init()})}(jQuery);