/*! WP Simple Pay Lite for Stripe - 2.0.12
 * https://wpsimplepay.com/
 * Copyright (c) Moonstone Media Group 2018
 * Licensed GPLv2+ */

var spShared={};!function(r){"use strict";var n;spShared={init:function(){(n=r(document.body)).find(".simpay-currency-format").on("blur.simpayCurrencyFormat",function(n){spShared.formatCurrencyField(r(this))}),n.find(".simpay-amount-input").on("blur.simpayValidateAmount",function(n){spShared.validateAmount(r(this))}),n.find(".simpay-currency-format").trigger("blur.simpayCurrencyFormat"),n.find(".simpay-amount-input").trigger("blur.simpayValidateAmount")},debugLog:function(n,r){"undefined"!=typeof spGeneral&&!0===spGeneral.booleans.scriptDebug&&console.log(n,r)},formatCurrencyField:function(a){a.val(function(n,r){return a.hasClass("simpay-allow-empty")&&!a.val()?"":accounting.formatMoney(accounting.unformat(r,spGeneral.strings.decimalSeparator),"",2,spGeneral.strings.thousandSeparator,spGeneral.strings.decimalSeparator)})},validateAmount:function(n){var r=spShared.unformatCurrency(n.val());if(!r||spGeneral.integers.minAmount>parseFloat(r))return n.val(""),!1;-1!==(r=r.replace(".",spGeneral.strings.decimalSeparator)).indexOf("-")&&(r=r.replace("-","")),n.val(r)},unformatCurrency:function(n){return n=accounting.unformat(n,spGeneral.strings.decimalSeparator).toString(),spGeneral.booleans.isZeroDecimal||(n=parseFloat(n).toFixed(2)),n}},r(document).ready(function(n){spShared.init()})}(jQuery);